(function(A){A.fn.slideBox=function(J){var F={direction:"left",duration:0.6,easing:"swing",delay:3,startIndex:0,hideClickBar:true,clickBarRadius:5,hideBottomBar:false,width:null,height:null,hideIndexBar:false};var B=A.extend(F,J||{});var N=A(this),M=N.children("ul.items"),L=M.find("li"),K=L.first().find("img");var E=L.size(),O=0,P=0;var I="ASC";var H=function(){if(!N.size()){return false}O=B.height?B.height:L.first().height();P=B.width?B.width:L.first().width();N.css({width:P+"px",height:O+"px"});L.css({width:P+"px",height:O+"px",overflow:"hidden"});if(B.direction=="left"){M.css("width",E*P+"px")}else{M.css("height",E*O+"px")}M.find("li:eq("+B.startIndex+")").addClass("active");if(!B.hideBottomBar){var S=A('<div class="tips"></div>').css("opacity",0.8).appendTo(N);var R=A('<div class="title"></div>').html(function(){var U=M.find("li.active").find("a"),V=U.attr("title"),T=U.attr("href");return A("<a>").attr("href",T).text(V)}).appendTo(S);var Q=A('<div class="nums"></div>').hide().appendTo(S);if(!B.hideIndexBar){L.each(function(U,V){var Y=A(V).find("a"),W=Y.attr("title"),T=Y.attr("href"),X="";U==B.startIndex&&(X="active");A("<a>").attr("href",T).text(W).addClass(X).css("borderRadius",B.clickBarRadius+"px").mouseover(function(){A(this).addClass("active").siblings().removeClass("active");M.find("li:eq("+A(this).index()+")").addClass("active").siblings().removeClass("active");D();C()}).appendTo(Q)})}if(!B.hideIndexBar&&B.hideClickBar){S.hover(function(){Q.animate({top:"0px"},"fast")},function(){Q.animate({top:S.height()+"px"},"fast")});Q.show().delay(2000).animate({top:S.height()+"px"},"fast")}else{Q.show()}}L.size()>1&&D()};var D=function(){var S=M.find("li.active"),R=S.find("a");var U=S.index();var Q,T;if(B.direction=="left"){Q=U*P*-1;T={"left":Q+"px"}}else{Q=U*O*-1;T={"top":Q+"px"}}N.find(".nums").find("a:eq("+U+")").addClass("active").siblings().removeClass("active");N.find(".title").find("a").attr("href",R.attr("href")).text(R.attr("title"));M.stop().animate(T,B.duration*1000,B.easing,function(){S.removeClass("active");if(I=="ASC"){if(S.next().size()){S.next().addClass("active")}else{I="DESC";S.prev().addClass("active")}}else{if(I=="DESC"){if(S.prev().size()){S.prev().addClass("active")}else{I="ASC";S.next().addClass("active")}}}});N.data("timeid",window.setTimeout(D,B.delay*1000))};var C=function(){window.clearTimeout(N.data("timeid"))};N.hover(function(){C()},function(){window.setTimeout(D,B.delay*1000)});var G=new Image();G.onload=function(){G.onload=null;H()};G.src=K.attr("src")}})(jQuery);