editor.firstForSR=0;editor.currentRangeForSR=null;function clickHandler(F,D,I){for(var C=0,G=F.length;C<G;C++){F[C].className=""}I.className="focus";var A=I.getAttribute("tabSrc");for(var B=0,H=D.length;B<H;B++){var J=D[B],E=J.getAttribute("id");if(E!=A){J.style.zIndex=1}else{J.style.zIndex=200}}}function switchTab(B){var F=$G(B).children,G=F[0].children,D=F[1].children;for(var A=0,C=G.length;A<C;A++){var E=G[A];if(E.className==="focus"){clickHandler(G,D,E)}E.onclick=function(){clickHandler(G,D,this)}}}$G("searchtab").onmousedown=function(){$G("search-msg").innerHTML="";$G("replace-msg").innerHTML=""};function getMatchCase(A){return $G(A).checked?true:false}$G("nextFindBtn").onclick=function(F,A,D){var E=$G("findtxt").value,B;if(!E){return false}B={searchStr:E,dir:1,casesensitive:getMatchCase("matchCase")};if(!frCommond(B)){var C=editor.selection.getRange().createBookmark();$G("search-msg").innerHTML=lang.getEnd;editor.selection.getRange().moveToBookmark(C).select()}};$G("nextReplaceBtn").onclick=function(E,A,C){var D=$G("findtxt1").value,B;if(!D){return false}B={searchStr:D,dir:1,casesensitive:getMatchCase("matchCase1")};frCommond(B)};$G("preFindBtn").onclick=function(E,A,C){var D=$G("findtxt").value,B;if(!D){return false}B={searchStr:D,dir:-1,casesensitive:getMatchCase("matchCase")};if(!frCommond(B)){$G("search-msg").innerHTML=lang.getStart}};$G("preReplaceBtn").onclick=function(E,A,C){var D=$G("findtxt1").value,B;if(!D){return false}B={searchStr:D,dir:-1,casesensitive:getMatchCase("matchCase1")};frCommond(B)};$G("repalceBtn").onclick=function(){var C=$G("findtxt1").value.replace(/^\s|\s$/g,""),A,B=$G("replacetxt").value.replace(/^\s|\s$/g,"");if(!C){return false}if(C==B||(!getMatchCase("matchCase1")&&C.toLowerCase()==B.toLowerCase())){return false}A={searchStr:C,dir:1,casesensitive:getMatchCase("matchCase1"),replaceStr:B};frCommond(A)};$G("repalceAllBtn").onclick=function(){var D=$G("findtxt1").value.replace(/^\s|\s$/g,""),A,B=$G("replacetxt").value.replace(/^\s|\s$/g,"");if(!D){return false}if(D==B||(!getMatchCase("matchCase1")&&D.toLowerCase()==B.toLowerCase())){return false}A={searchStr:D,casesensitive:getMatchCase("matchCase1"),replaceStr:B,all:true};var C=frCommond(A);if(C){$G("replace-msg").innerHTML=lang.countMsg.replace("{#count}",C)}};var frCommond=function(A){return editor.execCommand("searchreplace",A)};switchTab("searchtab");