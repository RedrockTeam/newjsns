window.onload=function(){editor.setOpt({emotionLocalization:false});emotion.SmileyPath=editor.options.emotionLocalization===true?"images/":"http://img.baidu.com/hi/";emotion.SmileyBox=createTabList(emotion.tabNum);emotion.tabExist=createArr(emotion.tabNum);initImgName();initEvtHandler("tabHeads")};function initImgName(){for(var D in emotion.SmilmgName){var E=emotion.SmilmgName[D],A=emotion.SmileyBox[D],C="";if(A.length){return}for(var B=1;B<=E[1];B++){C=E[0];if(B<10){C=C+"0"}C=C+B+".gif";A.push(C)}}}function initEvtHandler(B){var D=$G(B);for(var A=0,E=0;A<D.childNodes.length;A++){var C=D.childNodes[A];if(C.nodeType==1){domUtils.on(C,"click",(function(F){return function(){switchTab(F)}})(E));E++}}switchTab(0);$G("tabIconReview").style.display="none"}function InsertSmiley(A,B){var C={src:editor.options.emotionLocalization?editor.options.UEDITOR_HOME_URL+"dialogs/emotion/"+A:A};C._src=C.src;editor.execCommand("insertimage",C);if(!B.ctrlKey){dialog.popup.hide()}}function switchTab(D){autoHeight(D);if(emotion.tabExist[D]==0){emotion.tabExist[D]=1;createTab("tab"+D)}var E=$G("tabHeads").getElementsByTagName("span"),B=$G("tabBodys").getElementsByTagName("div"),A=0,C=E.length;for(;A<C;A++){E[A].className="";B[A].style.display="none"}E[D].className="focus";B[D].style.display="block"}function autoHeight(B){var A=dialog.getDom("iframe"),C=A.parentNode.parentNode;switch(B){case 0:A.style.height="380px";C.style.height="392px";break;case 1:A.style.height="220px";C.style.height="232px";break;case 2:A.style.height="260px";C.style.height="272px";break;case 3:A.style.height="300px";C.style.height="312px";break;case 4:A.style.height="140px";C.style.height="152px";break;case 5:A.style.height="260px";C.style.height="272px";break;case 6:A.style.height="230px";C.style.height="242px";break;default:}}function createTab(L){var E="?v=1.1",O=$G(L),S=emotion.SmileyPath+emotion.imageFolders[L],I=11/2,D=iHeight=35,J=3,T=emotion.imageCss[L],B=emotion.imageCssOffset[L],A=['<table class="smileytable">'],C=0,R=emotion.SmileyBox[L].length,G=11,M,K,N,H,Q,F;for(;C<R;){A.push("<tr>");for(var P=0;P<G;P++,C++){M=emotion.SmileyBox[L][C];if(M){K=S+M+E;N=S+M;H=P<I?0:1;Q=B*C*(-1)-1;F=emotion.SmileyInfor[L][C];A.push('<td  class="'+T+'"   border="1" width="'+J+'%" style="border-collapse:collapse;" align="center"  bgcolor="transparent" onclick="InsertSmiley(\''+N.replace(/'/g,"\\'")+"',event)\" onmouseover=\"over(this,'"+K+"','"+H+'\')" onmouseout="out(this)">');A.push("<span>");A.push('<img  style="background-position:left '+Q+'px;" title="'+F+'" src="'+emotion.SmileyPath+(editor.options.emotionLocalization?'0.gif" width="':'default/0.gif" width="')+D+'" height="'+iHeight+'"></img>');A.push("</span>")}else{A.push('<td width="'+J+'%"   bgcolor="#FFFFFF">')}A.push("</td>")}A.push("</tr>")}A.push("</table>");A=A.join("");O.innerHTML=A}function over(B,A,C){B.style.backgroundColor="#ACCD3C";$G("faceReview").style.backgroundImage="url("+A+")";if(C==1){$G("tabIconReview").className="show"}$G("tabIconReview").style.display="block"}function out(B){B.style.backgroundColor="transparent";var A=$G("tabIconReview");A.className="";A.style.display="none"}function createTabList(C){var B={};for(var A=0;A<C;A++){B["tab"+A]=[]}return B}function createArr(C){var B=[];for(var A=0;A<C;A++){B[A]=0}return B};