var CodeMirror=(function(){function w(Bv,A7){var CB={},Cb=w.defaults;for(var B7 in Cb){if(Cb.hasOwnProperty(B7)){CB[B7]=(A7&&A7.hasOwnProperty(B7)?A7:Cb)[B7]}}var Bu=CB["document"];var Cr=Bu.createElement("div");Cr.className="CodeMirror"+(CB.lineWrapping?" CodeMirror-wrap":"");Cr.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px;" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden"></div><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>';if(Bv.appendChild){Bv.appendChild(Cr)}else{Bv(Cr)}var A1=Cr.firstChild,Au=A1.firstChild,BY=Cr.lastChild,B3=BY.firstChild,B2=B3.firstChild,BX=B2.firstChild,Be=BX.firstChild,Cc=BX.nextSibling.firstChild,BJ=Cc.firstChild,BN=BJ.nextSibling,Ab=BN.nextSibling;Bi();if(/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)){Au.style.width="0px"}if(!p){Cc.draggable=true}if(CB.tabindex!=null){Au.tabIndex=CB.tabindex}if(!CB.gutter&&!CB.lineNumbers){BX.style.display="none"}try{Bc("x")}catch(CA){if(CA.message.match(/runtime/i)){CA=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")}throw CA}var A4=new a(),Cv=new a(),BV;var CC,AW=new A([new M([new W("")])]),Br,At;BP();var BT={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false};var AC,A9,As,AF,Bw=false;var Cs,BW,Ad,BL,BU,A5,Af,AZ;var By=0,Ay=0,Bl=0,CE=0;var AS;var A6="",AQ,BM=AY();AT(function(){Ae(CB.value||"");Cs=false})();var Bt=new u();r(BY,"mousedown",AT(B6));r(BY,"dblclick",AT(AG));r(Cc,"dragstart",Av);r(Cc,"selectstart",X);if(!e){r(BY,"contextmenu",Bd)}r(BY,"scroll",function(){Cm([]);if(CB.fixedGutter){BX.style.left=BY.scrollLeft+"px"}if(CB.onScroll){CB.onScroll(BS)}});r(window,"resize",function(){Cm(true)});r(Au,"keyup",AT(Cj));r(Au,"input",Ct);r(Au,"keydown",AT(BC));r(Au,"keypress",AT(BZ));r(Au,"focus",Bb);r(Au,"blur",Ap);r(BY,"dragenter",m);r(BY,"dragover",m);r(BY,"drop",AT(Cq));r(BY,"paste",function(){Ch();Ct()});r(Au,"paste",Ct);r(Au,"cut",AT(function(){B5("")}));var BB;try{BB=(Bu.activeElement==Au)}catch(CA){}if(BB){setTimeout(Bb,20)}else{Ap()}function BQ(CG){return CG>=0&&CG<AW.size}var BS=Cr.CodeMirror={getValue:AV,setValue:AT(Ae),getSelection:AA,replaceSelection:AT(B5),focus:function(){Ch();Bb();Ct()},setOption:function(CG,CI){var CH=CB[CG];CB[CG]=CI;if(CG=="mode"||CG=="indentUnit"){BP()}else{if(CG=="readOnly"&&CI){Ap();Au.blur()}else{if(CG=="theme"){Bi()}else{if(CG=="lineWrapping"&&CH!=CI){AT(Aw)()}else{if(CG=="tabSize"){AT(AO)()}}}}}if(CG=="lineNumbers"||CG=="gutter"||CG=="firstLineNumber"||CG=="theme"){AT(AN)()}},getOption:function(CG){return CB[CG]},undo:AT(An),redo:AT(AR),indentLine:AT(function(CH,CG){if(BQ(CH)){B0(CH,CG==null?"smart":CG?"add":"subtract")}}),indentSelection:AT(AL),historySize:function(){return{undo:Bt.done.length,redo:Bt.undone.length}},clearHistory:function(){Bt=new u()},matchBrackets:AT(function(){CF(true)}),getTokenAt:AT(function(CG){CG=Ax(CG);return Bz(CG.line).getTokenAt(CC,Bx(CG.line),CG.ch)}),getStateAfter:function(CG){CG=Bk(CG==null?AW.size-1:CG);return Bx(CG+1)},cursorCoords:function(CG){if(CG==null){CG=BT.inverted}return Cx(CG?BT.from:BT.to)},charCoords:function(CG){return Cx(Ax(CG))},coordsChar:function(CH){var CG=Q(Cc);return Ag(CH.x-CG.left,CH.y-CG.top)},markText:AT(Al),setBookmark:Cz,setMarker:AT(B9),clearMarker:AT(Aq),setLineClass:AT(Ao),hideLine:AT(function(CG){return Ak(CG,true)}),showLine:AT(function(CG){return Ak(CG,false)}),onDeleteLine:function(CG,CH){if(typeof CG=="number"){if(!BQ(CG)){return null}CG=Bz(CG)}(CG.handlers||(CG.handlers=[])).push(CH);return CG},lineInfo:AJ,addWidget:function(CL,CN,CM,CK,CG){CL=Co(Ax(CL));var CI=CL.yBot,CJ=CL.x;CN.style.position="absolute";B3.appendChild(CN);if(CK=="over"){CI=CL.y}else{if(CK=="near"){var CO=Math.max(BY.offsetHeight,AW.height*BE()),CH=Math.max(B3.clientWidth,Cc.clientWidth)-Cd();if(CL.yBot+CN.offsetHeight>CO&&CL.y>CN.offsetHeight){CI=CL.y-CN.offsetHeight}if(CJ+CN.offsetWidth>CH){CJ=CH-CN.offsetWidth}}}CN.style.top=(CI+Bp())+"px";CN.style.left=CN.style.right="";if(CG=="right"){CJ=B3.clientWidth-CN.offsetWidth;CN.style.right="0px"}else{if(CG=="left"){CJ=0}else{if(CG=="middle"){CJ=(B3.clientWidth-CN.offsetWidth)/2}}CN.style.left=(CJ+Cd())+"px"}if(CM){Az(CJ,CI,CJ+CN.offsetWidth,CI+CN.offsetHeight)}},lineCount:function(){return AW.size},clipPos:Ax,getCursor:function(CG){if(CG==null){CG=BT.inverted}return J(CG?BT.from:BT.to)},somethingSelected:function(){return !I(BT.from,BT.to)},setCursor:AT(function(CH,CG,CI){if(CG==null&&typeof CH.line=="number"){Bh(CH.line,CH.ch,CI)}else{Bh(CH,CG,CI)}}),setSelection:AT(function(CG,CH,CI){(CI?Bs:Bf)(Ax(CG),Ax(CH||CG))}),getLine:function(CG){if(BQ(CG)){return Bz(CG).text}},getLineHandle:function(CG){if(BQ(CG)){return Bz(CG)}},setLine:AT(function(CH,CG){if(BQ(CH)){AU(CG,{line:CH,ch:0},{line:CH,ch:Bz(CH).text.length})}}),removeLine:AT(function(CG){if(BQ(CG)){AU("",{line:CG,ch:0},Ax({line:CG+1,ch:0}))}}),replaceRange:AT(AU),getRange:function(CG,CH){return Cp(Ax(CG),Ax(CH))},execCommand:function(CG){return h[CG](BS)},moveH:AT(BH),deleteH:AT(BI),moveV:AT(BO),toggleOverwrite:function(){Bw=!Bw},posFromIndex:function(CG){var CH=0,CI;AW.iter(0,AW.size,function(CK){var CJ=CK.text.length+1;if(CJ>CG){CI=CG;return true}CG-=CJ;++CH});return Ax({line:CH,ch:CI})},indexFromPos:function(CG){if(CG.line<0||CG.ch<0){return 0}var CH=CG.ch;AW.iter(0,CG.line,function(CI){CH+=CI.text.length+1});return CH},operation:function(CG){return AT(CG)()},refresh:function(){Cm(true)},getInputField:function(){return Au},getWrapperElement:function(){return Cr},getScrollerElement:function(){return BY},getGutterElement:function(){return BX}};function Bz(CG){return y(AW,CG)}function Aj(CI,CG){Af=true;var CJ=CG-CI.height;for(var CH=CI;CH;CH=CH.parent){CH.height+=CJ}}function Ae(CG){var CH={line:0,ch:0};AH(CH,{line:AW.size-1,ch:Bz(AW.size-1).text.length},D(CG),CH,CH);Cs=true}function AV(CG){var CH=[];AW.iter(0,AW.size,function(CI){CH.push(CI.text)});return CH.join("\n")}function B6(CI){Cf(CI.shiftKey);for(var CM=i(CI);CM!=Cr;CM=CM.parentNode){if(CM.parentNode==B3&&CM!=B2){return}}for(var CM=i(CI);CM!=Cr;CM=CM.parentNode){if(CM.parentNode==Be){if(CB.onGutterClick){CB.onGutterClick(BS,B(Be.childNodes,CM)+Ay,CI)}return X(CI)}}var CH=BF(CI);switch(k(CI)){case 3:if(e&&!z){Bd(CI)}return;case 2:if(CH){Bh(CH.line,CH.ch,true)}return}if(!CH){if(i(CI)==BY){X(CI)}return}if(!At){Bb()}var CG=+new Date;if(As&&As.time>CG-400&&I(As.pos,CH)){X(CI);setTimeout(Ch,20);return AB(CH.line)}else{if(A9&&A9.time>CG-400&&I(A9.pos,CH)){As={time:CG,pos:CH};X(CI);return AX(CH)}else{A9={time:CG,pos:CH}}}var CL=CH,CN;if(G&&!I(BT.from,BT.to)&&!R(CH,BT.from)&&!R(BT.to,CH)){if(p){Cc.draggable=true}var CJ=r(Bu,"mouseup",AT(function(CP){if(p){Cc.draggable=false}AF=false;CJ();if(Math.abs(CI.clientX-CP.clientX)+Math.abs(CI.clientY-CP.clientY)<10){X(CP);Bh(CH.line,CH.ch,true);Ch()}}),true);AF=true;return}X(CI);Bh(CH.line,CH.ch,true);function CK(CQ){var CP=BF(CQ,true);if(CP&&!I(CP,CL)){if(!At){Bb()}CL=CP;Bs(CH,CP);Cs=false;var CR=BR();if(CP.line>=CR.to||CP.line<CR.from){CN=setTimeout(AT(function(){CK(CQ)}),150)}}}var CO=r(Bu,"mousemove",AT(function(CP){clearTimeout(CN);X(CP);CK(CP)}),true);var CJ=r(Bu,"mouseup",AT(function(CQ){clearTimeout(CN);var CP=BF(CQ);if(CP){Bs(CH,CP)}X(CQ);Ch();Cs=true;CO();CJ()}),true)}function AG(CG){for(var CH=i(CG);CH!=Cr;CH=CH.parentNode){if(CH.parentNode==Be){return X(CG)}}var CI=BF(CG);if(!CI){return}As={time:+new Date,pos:CI};X(CG);AX(CI)}function Cq(CG){CG.preventDefault();var CO=BF(CG,true),CI=CG.dataTransfer.files;if(!CO||CB.readOnly){return}if(CI&&CI.length&&window.FileReader&&window.File){function CP(CT,CR){var CS=new FileReader;CS.onload=function(){CN[CR]=CS.result;if(++CH==CM){CO=Ax(CO);AT(function(){var CU=AU(CN.join(""),CO,CO);Bs(CO,CU)})()}};CS.readAsText(CT)}var CM=CI.length,CN=Array(CM),CH=0;for(var CL=0;CL<CM;++CL){CP(CI[CL],CL)}}else{try{var CN=CG.dataTransfer.getData("Text");if(CN){var CK=AU(CN,CO,CO);var CQ=BT.from,CJ=BT.to;Bs(CO,CK);if(AF){AU("",CQ,CJ)}Ch()}}catch(CG){}}}function Av(CG){var CH=AA();S(CH);CG.dataTransfer.setDragImage(Y,0,0);CG.dataTransfer.setData("Text",CH)}function A0(CI){var CL=b[CI.keyCode],CK=V[CB.keyMap].auto,CH,CG;if(CL==null||CI.altGraphKey){if(CK){CB.keyMap=CK}return null}if(CI.altKey){CL="Alt-"+CL}if(CI.ctrlKey){CL="Ctrl-"+CL}if(CI.metaKey){CL="Cmd-"+CL}if(CI.shiftKey&&(CH=n("Shift-"+CL,CB.extraKeys,CB.keyMap))){CG=true}else{CH=n(CL,CB.extraKeys,CB.keyMap)}if(typeof CH=="string"){if(h.propertyIsEnumerable(CH)){CH=h[CH]}else{CH=null}}if(CK&&(CH||!K(CI))){CB.keyMap=CK}if(!CH){return false}if(CG){var CJ=AC;AC=null;CH(BS);AC=CJ}else{CH(BS)}X(CI);return true}var Bq=null;function BC(CH){if(!At){Bb()}var CI=CH.keyCode;if(O&&CI==27){CH.returnValue=false}Cf(CI==16||CH.shiftKey);if(CB.onKeyEvent&&CB.onKeyEvent(BS,g(CH))){return}var CG=A0(CH);if(window.opera){Bq=CG?CH.keyCode:null;if(!CG&&(z?CH.metaKey:CH.ctrlKey)&&CH.keyCode==88){B5("")}}}function BZ(CG){if(window.opera&&CG.keyCode==Bq){Bq=null;X(CG);return}if(CB.onKeyEvent&&CB.onKeyEvent(BS,g(CG))){return}if(window.opera&&!CG.which&&A0(CG)){return}if(CB.electricChars&&CC.electricChars){var CH=String.fromCharCode(CG.charCode==null?CG.keyCode:CG.charCode);if(CC.electricChars.indexOf(CH)>-1){setTimeout(AT(function(){B0(BT.to.line,"smart")}),75)}}Ct()}function Cj(CG){if(CB.onKeyEvent&&CB.onKeyEvent(BS,g(CG))){return}if(CG.keyCode==16){AC=null}}function Bb(){if(CB.readOnly){return}if(!At){if(CB.onFocus){CB.onFocus(BS)}At=true;if(Cr.className.search(/\bCodeMirror-focused\b/)==-1){Cr.className+=" CodeMirror-focused"}if(!A5){Bg(true)}}Bn();Ck()}function Ap(){if(At){if(CB.onBlur){CB.onBlur(BS)}At=false;Cr.className=Cr.className.replace(" CodeMirror-focused","")}clearInterval(BV);setTimeout(function(){if(!At){AC=null}},150)}function AH(CH,CJ,CL,CG,CK){if(Bt){var CI=[];AW.iter(CH.line,CJ.line+1,function(CM){CI.push(CM.text)});Bt.addChange(CH.line,CL.length,CI);while(Bt.done.length>CB.undoDepth){Bt.done.shift()}}Bo(CH,CJ,CL,CG,CK)}function Cu(CG,CI){var CH=CG.pop();if(CH){var CK=[],CL=CH.start+CH.added;AW.iter(CH.start,CL,function(CM){CK.push(CM.text)});CI.push({start:CH.start,added:CH.old.length,old:CK});var CJ=Ax({line:CH.start+CH.old.length-1,ch:d(CK[CK.length-1],CH.old[CH.old.length-1])});Bo({line:CH.start,ch:0},{line:CL-1,ch:Bz(CL-1).text.length},CH.old,CJ,CJ);Cs=true}}function An(){Cu(Bt.done,Bt.undone)}function AR(){Cu(Bt.undone,Bt.done)}function Bo(CT,CI,CL,CO,CY){var CU=false,CV=A6.length;if(!CB.lineWrapping){AW.iter(CT.line,CI.line,function(C3){if(C3.text.length==CV){CU=true;return true}})}if(CT.line!=CI.line||CL.length>1){Af=true}var CR=CI.line-CT.line,CG=Bz(CT.line),CW=Bz(CI.line);if(CT.ch==0&&CI.ch==0&&CL[CL.length-1]==""){var CP=[],CJ=null;if(CT.line){CJ=Bz(CT.line-1);CJ.fixMarkEnds(CW)}else{CW.fixMarkStarts()}for(var CM=0,CK=CL.length-1;CM<CK;++CM){CP.push(W.inheritMarks(CL[CM],CJ))}if(CR){AW.remove(CT.line,CR,AZ)}if(CP.length){AW.insert(CT.line,CP)}}else{if(CG==CW){if(CL.length==1){CG.replace(CT.ch,CI.ch,CL[0])}else{CW=CG.split(CI.ch,CL[CL.length-1]);CG.replace(CT.ch,null,CL[0]);CG.fixMarkEnds(CW);var CP=[];for(var CM=1,CK=CL.length-1;CM<CK;++CM){CP.push(W.inheritMarks(CL[CM],CG))}CP.push(CW);AW.insert(CT.line+1,CP)}}else{if(CL.length==1){CG.replace(CT.ch,null,CL[0]);CW.replace(null,CI.ch,"");CG.append(CW);AW.remove(CT.line+1,CR,AZ)}else{var CP=[];CG.replace(CT.ch,null,CL[0]);CW.replace(null,CI.ch,CL[CL.length-1]);CG.fixMarkEnds(CW);for(var CM=1,CK=CL.length-1;CM<CK;++CM){CP.push(W.inheritMarks(CL[CM],CG))}if(CR>1){AW.remove(CT.line+1,CR-1,AZ)}AW.insert(CT.line+1,CP)}}}if(CB.lineWrapping){var C1=BY.clientWidth/B4()-3;AW.iter(CT.line,CT.line+CL.length,function(C4){if(C4.hidden){return}var C3=Math.ceil(C4.text.length/C1)||1;if(C3!=C4.height){Aj(C4,C3)}})}else{AW.iter(CT.line,CM+CL.length,function(C4){var C3=C4.text;if(C3.length>CV){A6=C3;CV=C3.length;AQ=null;CU=false}});if(CU){CV=0;A6="";AQ=null;AW.iter(0,AW.size,function(C4){var C3=C4.text;if(C3.length>CV){CV=C3.length;A6=C3}})}}var CH=[],CN=CL.length-CR-1;for(var CM=0,C2=Br.length;CM<C2;++CM){var C0=Br[CM];if(C0<CT.line){CH.push(C0)}else{if(C0>CI.line){CH.push(C0+CN)}}}var CS=CT.line+Math.min(CL.length,500);AK(CT.line,CS);CH.push(CS);Br=CH;Cg(100);Ad.push({from:CT.line,to:CI.line+1,diff:CN});var CX={from:CT,to:CI,text:CL};if(BL){for(var CQ=BL;CQ.next;CQ=CQ.next){}CQ.next=CX}else{BL=CX}function CZ(C3){return C3<=Math.min(CI.line,CI.line+CN)?C3:C3+CN}Bf(CO,CY,CZ(BT.from.line),CZ(BT.to.line));B3.style.height=(AW.height*BE()+2*Bp())+"px"}function AU(CI,CG,CJ){CG=Ax(CG);if(!CJ){CJ=CG}else{CJ=Ax(CJ)}CI=D(CI);function CK(CL){if(R(CL,CG)){return CL}if(!R(CJ,CL)){return CH}var CN=CL.line+CI.length-(CJ.line-CG.line)-1;var CM=CL.ch;if(CL.line==CJ.line){CM+=CI[CI.length-1].length-(CJ.ch-(CJ.line==CG.line?CG.ch:0))}return{line:CN,ch:CM}}var CH;Ba(CI,CG,CJ,function(CL){CH=CL;return{from:CK(BT.from),to:CK(BT.to)}});return CH}function B5(CH,CG){Ba(D(CH),BT.from,BT.to,function(CI){if(CG=="end"){return{from:CI,to:CI}}else{if(CG=="start"){return{from:BT.from,to:BT.from}}else{return{from:BT.from,to:CI}}}})}function Ba(CI,CH,CJ,CL){var CG=CI.length==1?CI[0].length+CH.ch:CI[CI.length-1].length;var CK=CL({line:CH.line+CI.length-1,ch:CG});AH(CH,CJ,CI,CK.from,CK.to)}function Cp(CG,CH){var CJ=CG.line,CK=CH.line;if(CJ==CK){return Bz(CJ).text.slice(CG.ch,CH.ch)}var CI=[Bz(CJ).text.slice(CG.ch)];AW.iter(CJ+1,CK,function(CL){CI.push(CL.text)});CI.push(Bz(CK).text.slice(0,CH.ch));return CI.join("\n")}function AA(){return Cp(BT.from,BT.to)}var A8=false;function Bn(){if(A8){return}A4.set(CB.pollInterval,function(){B1();AM();if(At){Bn()}AE()})}function Ct(){var CH=false;A8=true;function CG(){B1();var CI=AM();if(!CI&&!CH){CH=true;A4.set(60,CG)}else{A8=false;Bn()}AE()}A4.set(20,CG)}var A2="";function AM(){if(A5||!At||q(Au)){return false}var CH=Au.value;if(CH==A2){return false}AC=null;var CI=0,CG=Math.min(A2.length,CH.length);while(CI<CG&&A2[CI]==CH[CI]){++CI}if(CI<A2.length){BT.from={line:BT.from.line,ch:BT.from.ch-(A2.length-CI)}}else{if(Bw&&I(BT.from,BT.to)){BT.to={line:BT.to.line,ch:Math.min(Bz(BT.to.line).text.length,BT.to.ch+(CH.length-CI))}}}B5(CH.slice(CI),"end");A2=CH;return true}function Bg(CG){if(!I(BT.from,BT.to)){A2="";Au.value=AA();Au.select()}else{if(CG){A2=Au.value=""}}}function Ch(){if(!CB.readOnly){Au.focus()}}function A3(){if(!BN.getBoundingClientRect){return}var CG=BN.getBoundingClientRect();if(O&&CG.top==CG.bottom){return}var CH=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);if(CG.top<0||CG.bottom>CH){BN.scrollIntoView()}}function Ce(){var CG=Co(BT.inverted?BT.from:BT.to);var CH=CB.lineWrapping?Math.min(CG.x,Cc.offsetWidth):CG.x;return Az(CH,CG.y,CH,CG.yBot)}function Az(CJ,CK,CN,CM){var CO=Cd(),CH=Bp(),CL=BE();CK+=CH;CM+=CH;CJ+=CO;CN+=CO;var CR=BY.clientHeight,CT=BY.scrollTop,CG=false,CI=true;if(CK<CT){BY.scrollTop=Math.max(0,CK-2*CL);CG=true}else{if(CM>CT+CR){BY.scrollTop=CM+CL-CR;CG=true}}var CS=BY.clientWidth,CQ=BY.scrollLeft;var CP=CB.fixedGutter?BX.clientWidth:0;if(CJ<CQ+CP){if(CJ<50){CJ=0}BY.scrollLeft=Math.max(0,CJ-10-CP);CG=true}else{if(CN>CS+CQ-3){BY.scrollLeft=CN+10-CS;CG=true;if(CN>B3.clientWidth){CI=false}}}if(CG&&CB.onScroll){CB.onScroll(BS)}return CI}function BR(){var CG=BE(),CH=BY.scrollTop-Bp();var CI=Math.max(0,Math.floor(CH/CG));var CJ=Math.ceil((CH+BY.clientHeight)/CG);return{from:t(AW,CI),to:t(AW,CJ)}}function Cm(CS,CR){if(!BY.clientWidth){Ay=Bl=By=0;return}var CI=BR();if(CS!==true&&CS.length==0&&CI.from>=Ay&&CI.to<=Bl){return}var CL=Math.max(CI.from-100,0),CP=Math.min(AW.size,CI.to+100);if(Ay<CL&&CL-Ay<20){CL=Ay}if(Bl>CP&&Bl-CP<20){CP=Math.min(AW.size,Bl)}var CQ=CS===true?[]:Ac([{from:Ay,to:Bl,domStart:0}],CS);var CK=0;for(var CJ=0;CJ<CQ.length;++CJ){var CO=CQ[CJ];if(CO.from<CL){CO.domStart+=(CL-CO.from);CO.from=CL}if(CO.to>CP){CO.to=CP}if(CO.from>=CO.to){CQ.splice(CJ--,1)}else{CK+=CO.to-CO.from}}if(CK==CP-CL){return}CQ.sort(function(CU,CT){return CU.domStart-CT.domStart});var CN=BE(),CH=BX.style.display;Ab.style.display=BX.style.display="none";Ar(CL,CP,CQ);Ab.style.display="";var CM=CL!=Ay||CP!=Bl||CE!=BY.clientHeight+CN;if(CM){CE=BY.clientHeight+CN}Ay=CL;Bl=CP;By=s(AW,CL);B2.style.top=(By*CN)+"px";B3.style.height=(AW.height*CN+2*Bp())+"px";if(Ab.childNodes.length!=Bl-Ay){throw new Error("BAD PATCH! "+JSON.stringify(CQ)+" size="+(Bl-Ay)+" nodes="+Ab.childNodes.length)}if(CB.lineWrapping){AQ=BY.clientWidth;var CG=Ab.firstChild;AW.iter(Ay,Bl,function(CU){if(!CU.hidden){var CT=Math.round(CG.offsetHeight/CN)||1;if(CU.height!=CT){Aj(CU,CT);Af=true}}CG=CG.nextSibling})}else{if(AQ==null){AQ=Bc(A6)}if(AQ>BY.clientWidth){Cc.style.width=AQ+"px";B3.style.width="";B3.style.width=BY.scrollWidth+"px"}else{Cc.style.width=B3.style.width=""}}BX.style.display=CH;if(CM||Af){Ci()}Bj();if(!CR&&CB.onUpdate){CB.onUpdate(BS)}return true}function Ac(CO,CP){for(var CJ=0,CM=CP.length||0;CJ<CM;++CJ){var CL=CP[CJ],CK=[],CI=CL.diff||0;for(var CG=0,CH=CO.length;CG<CH;++CG){var CN=CO[CG];if(CL.to<=CN.from&&CL.diff){CK.push({from:CN.from+CI,to:CN.to+CI,domStart:CN.domStart})}else{if(CL.to<=CN.from||CL.from>=CN.to){CK.push(CN)}else{if(CL.from>CN.from){CK.push({from:CN.from,to:CL.from,domStart:CN.domStart})}if(CL.to<CN.to){CK.push({from:CL.to+CI,to:CN.to+CI,domStart:CN.domStart+(CL.to-CN.from)})}}}}CO=CK}return CO}function Ar(CP,CG,CH){if(!CH.length){Ab.innerHTML=""}else{function CM(CY){var CX=CY.nextSibling;CY.parentNode.removeChild(CY);return CX}var CK=0,CW=Ab.firstChild,CJ;for(var CI=0;CI<CH.length;++CI){var CN=CH[CI];while(CN.domStart>CK){CW=CM(CW);CK++}for(var CU=0,CO=CN.to-CN.from;CU<CO;++CU){CW=CW.nextSibling;CK++}}while(CW){CW=CM(CW)}}var CL=CH.shift(),CW=Ab.firstChild,CU=CP;var CT=BT.from.line,CQ=BT.to.line,CR=CT<CP&&CQ>=CP;var CS=Bu.createElement("div"),CV;AW.iter(CP,CG,function(CZ){var CX=null,CY=null;if(CR){CX=0;if(CQ==CU){CR=false;CY=BT.to.ch}}else{if(CT==CU){if(CQ==CU){CX=BT.from.ch;CY=BT.to.ch}else{CR=true;CX=BT.from.ch}}}if(CL&&CL.to==CU){CL=CH.shift()}if(!CL||CL.from>CU){if(CZ.hidden){CS.innerHTML="<pre></pre>"}else{CS.innerHTML=CZ.getHTML(CX,CY,true,BM)}Ab.insertBefore(CS.firstChild,CW)}else{CW=CW.nextSibling}++CU})}function Ci(){if(!CB.gutter&&!CB.lineNumbers){return}var CN=B2.offsetHeight,CG=BY.clientHeight;BX.style.height=(CN-CG<2?CG:CN)+"px";var CH=[],CL=Ay;AW.iter(Ay,Math.max(Bl,Ay+1),function(CQ){if(CQ.hidden){CH.push("<pre></pre>")}else{var CO=CQ.gutterMarker;var CP=CB.lineNumbers?CL+CB.firstLineNumber:null;if(CO&&CO.text){CP=CO.text.replace("%N%",CP!=null?CP:"")}else{if(CP==null){CP="\u00a0"}}CH.push((CO&&CO.style?'<pre class="'+CO.style+'">':"<pre>"),CP);for(var CR=1;CR<CQ.height;++CR){CH.push("<br/>&#160;")}CH.push("</pre>")}++CL});BX.style.display="none";Be.innerHTML=CH.join("");var CI=String(AW.size).length,CM=Be.firstChild,CK=l(CM),CJ="";while(CK.length+CJ.length<CI){CJ+="\u00a0"}if(CJ){CM.insertBefore(Bu.createTextNode(CJ),CM.firstChild)}BX.style.display="";Cc.style.marginLeft=BX.offsetWidth+"px";Af=false}function Bj(){var CJ=BT.inverted?BT.from:BT.to,CH=BE();var CI=Co(CJ,true);var CG=Q(Cr),CK=Q(Ab);A1.style.top=(CI.y+CK.top-CG.top)+"px";A1.style.left=(CI.x+CK.left-CG.left)+"px";if(I(BT.from,BT.to)){BN.style.top=CI.y+"px";BN.style.left=(CB.lineWrapping?Math.min(CI.x,Cc.offsetWidth):CI.x)+"px";BN.style.display=""}else{BN.style.display="none"}}function Cf(CG){if(CG){AC=AC||(BT.inverted?BT.to:BT.from)}else{AC=null}}function Bs(CG,CH){var CI=AC&&Ax(AC);if(CI){if(R(CI,CG)){CG=CI}else{if(R(CH,CI)){CH=CI}}}Bf(CG,CH);BW=true}function Bf(CH,CJ,CK,CG){BG=null;if(CK==null){CK=BT.from.line;CG=BT.to.line}if(I(BT.from,CH)&&I(BT.to,CJ)){return}if(R(CJ,CH)){var CI=CJ;CJ=CH;CH=CI}if(CH.line!=CK){CH=BK(CH,CK,BT.from.ch)}if(CJ.line!=CG){CJ=BK(CJ,CG,BT.to.ch)}if(I(CH,CJ)){BT.inverted=false}else{if(I(CH,BT.to)){BT.inverted=false}else{if(I(CJ,BT.from)){BT.inverted=true}}}if(I(CH,CJ)){if(!I(BT.from,BT.to)){Ad.push({from:CK,to:CG+1})}}else{if(I(BT.from,BT.to)){Ad.push({from:CH.line,to:CJ.line+1})}else{if(!I(CH,BT.from)){if(CH.line<CK){Ad.push({from:CH.line,to:Math.min(CJ.line,CK)+1})}else{Ad.push({from:CK,to:Math.min(CG,CH.line)+1})}}if(!I(CJ,BT.to)){if(CJ.line<CG){Ad.push({from:Math.max(CK,CH.line),to:CG+1})}else{Ad.push({from:Math.max(CH.line,CG),to:CJ.line+1})}}}}BT.from=CH;BT.to=CJ;BU=true}function BK(CI,CG,CH){function CJ(CL){var CO=CI.line+CL,CM=CL==1?AW.size:-1;while(CO!=CM){var CP=Bz(CO);if(!CP.hidden){var CN=CI.ch;if(CN>CH||CN>CP.text.length){CN=CP.text.length}return{line:CO,ch:CN}}CO+=CL}}var CK=Bz(CI.line);if(!CK.hidden){return CI}if(CI.line>=CG){return CJ(1)||CJ(-1)}else{return CJ(-1)||CJ(1)}}function Bh(CI,CH,CJ){var CG=Ax({line:CI,ch:CH||0});(CJ?Bs:Bf)(CG,CG)}function Bk(CG){return Math.max(0,Math.min(CG,AW.size-1))}function Ax(CG){if(CG.line<0){return{line:0,ch:0}}if(CG.line>=AW.size){return{line:AW.size-1,ch:Bz(AW.size-1).text.length}}var CH=CG.ch,CI=Bz(CG.line).text.length;if(CH==null||CH>CI){return{line:CG.line,ch:CI}}else{if(CH<0){return{line:CG.line,ch:0}}else{return CG}}}function Bm(CH,CO){var CJ=BT.inverted?BT.from:BT.to,CG=CJ.line,CL=CJ.ch;var CN=Bz(CG);function CI(){for(var CR=CG+CH,CQ=CH<0?-1:AW.size;CR!=CQ;CR+=CH){var CP=Bz(CR);if(!CP.hidden){CG=CR;CN=CP;return true}}}function CK(CP){if(CL==(CH<0?0:CN.text.length)){if(!CP&&CI()){CL=CH<0?CN.text.length:0}else{return false}}else{CL+=CH}return true}if(CO=="char"){CK()}else{if(CO=="column"){CK(true)}else{if(CO=="word"){var CM=false;for(;;){if(CH<0){if(!CK()){break}}if(E(CN.text.charAt(CL))){CM=true}else{if(CM){if(CH<0){CH=1;CK()}break}}if(CH>0){if(!CK()){break}}}}}}return{line:CG,ch:CL}}function BH(CG,CH){var CI=CG<0?BT.from:BT.to;if(AC||I(BT.from,BT.to)){CI=Bm(CG,CH)}Bh(CI.line,CI.ch,true)}function BI(CG,CH){if(!I(BT.from,BT.to)){AU("",BT.from,BT.to)}else{if(CG<0){AU("",Bm(CG,CH),BT.to)}else{AU("",BT.from,Bm(CG,CH))}}BW=true}var BG=null;function BO(CG,CH){var CI=0,CK=Co(BT.inverted?BT.from:BT.to,true);if(BG!=null){CK.x=BG}if(CH=="page"){CI=BY.clientHeight}else{if(CH=="line"){CI=BE()}}var CJ=Ag(CK.x,CK.y+CI*CG+2);Bh(CJ.line,CJ.ch,true);BG=CK.x}function AX(CG){var CI=Bz(CG.line).text;var CJ=CG.ch,CH=CG.ch;while(CJ>0&&E(CI.charAt(CJ-1))){--CJ}while(CH<CI.length&&E(CI.charAt(CH))){++CH}Bs({line:CG.line,ch:CJ},{line:CG.line,ch:CH})}function AB(CG){Bs({line:CG,ch:0},{line:CG,ch:Bz(CG).text.length})}function AL(CH){if(I(BT.from,BT.to)){return B0(BT.from.line,CH)}var CI=BT.to.line-(BT.to.ch?0:1);for(var CG=BT.from.line;CG<=CI;++CG){B0(CG,CH)}}function B0(CM,CQ){if(!CQ){CQ="add"}if(CQ=="smart"){if(!CC.indent){CQ="prev"}else{var CL=Bx(CM)}}var CH=Bz(CM),CK=CH.indentation(CB.tabSize),CO=CH.text.match(/^\s*/)[0],CG;if(CQ=="prev"){if(CM){CG=Bz(CM-1).indentation(CB.tabSize)}else{CG=0}}else{if(CQ=="smart"){CG=CC.indent(CL,CH.text.slice(CO.length),CH.text)}else{if(CQ=="add"){CG=CK+CB.indentUnit}else{if(CQ=="subtract"){CG=CK-CB.indentUnit}}}}CG=Math.max(0,CG);var CJ=CG-CK;if(!CJ){if(BT.from.line!=CM&&BT.to.line!=CM){return}var CI=CO}else{var CI="",CN=0;if(CB.indentWithTabs){for(var CP=Math.floor(CG/CB.tabSize);CP;--CP){CN+=CB.tabSize;CI+="\t"}}while(CN<CG){++CN;CI+=" "}}AU(CI,{line:CM,ch:0},{line:CM,ch:CO.length})}function BP(){CC=w.getMode(CB,CB.mode);AW.iter(0,AW.size,function(CG){CG.stateAfter=null});Br=[0];Cg()}function AN(){var CG=CB.gutter||CB.lineNumbers;BX.style.display=CG?"":"none";if(CG){Af=true}else{Ab.parentNode.style.marginLeft=0}}function Aw(CG,CI){if(CB.lineWrapping){Cr.className+=" CodeMirror-wrap";var CH=BY.clientWidth/B4()-3;AW.iter(0,AW.size,function(CK){if(CK.hidden){return}var CJ=Math.ceil(CK.text.length/CH)||1;if(CJ!=1){Aj(CK,CJ)}});Cc.style.width=B3.style.width=""}else{Cr.className=Cr.className.replace(" CodeMirror-wrap","");AQ=null;A6="";AW.iter(0,AW.size,function(CJ){if(CJ.height!=1&&!CJ.hidden){Aj(CJ,1)}if(CJ.text.length>A6.length){A6=CJ.text}})}Ad.push({from:0,to:AW.size})}function AY(){for(var CH='<span class="cm-tab">',CG=0;CG<CB.tabSize;++CG){CH+=" "}return CH+"</span>"}function AO(){BM=AY();Cm(true)}function Bi(){BY.className=BY.className.replace(/\s*cm-s-\w+/g,"")+CB.theme.replace(/(^|\s)\s*/g," cm-s-")}function Ai(){this.set=[]}Ai.prototype.clear=AT(function(){var CI=Infinity,CJ=-Infinity;for(var CN=0,CG=this.set.length;CN<CG;++CN){var CH=this.set[CN],CM=CH.marked;if(!CM||!CH.parent){continue}var CL=F(CH);CI=Math.min(CI,CL);CJ=Math.max(CJ,CL);for(var CK=0;CK<CM.length;++CK){if(CM[CK].set==this.set){CM.splice(CK--,1)}}}if(CI!=Infinity){Ad.push({from:CI,to:CJ+1})}});Ai.prototype.find=function(){var CH,CO;for(var CN=0,CG=this.set.length;CN<CG;++CN){var CI=this.set[CN],CL=CI.marked;for(var CK=0;CK<CL.length;++CK){var CJ=CL[CK];if(CJ.set==this.set){if(CJ.from!=null||CJ.to!=null){var CM=F(CI);if(CM!=null){if(CJ.from!=null){CH={line:CM,ch:CJ.from}}if(CJ.to!=null){CO={line:CM,ch:CJ.to}}}}}}}return{from:CH,to:CO}};function Al(CG,CI,CJ){CG=Ax(CG);CI=Ax(CI);var CM=new Ai();function CL(CQ,CN,CO,CP){Bz(CQ).addMark(new o(CN,CO,CP,CM.set))}if(CG.line==CI.line){CL(CG.line,CG.ch,CI.ch,CJ)}else{CL(CG.line,CG.ch,null,CJ);for(var CH=CG.line+1,CK=CI.line;CH<CK;++CH){CL(CH,null,null,CJ)}CL(CI.line,null,CI.ch,CJ)}Ad.push({from:CG.line,to:CI.line+1});return CM}function Cz(CG){CG=Ax(CG);var CH=new P(CG.ch);Bz(CG.line).addMark(CH);return CH}function B9(CI,CH,CG){if(typeof CI=="number"){CI=Bz(Bk(CI))}CI.gutterMarker={text:CH,style:CG};Af=true;return CI}function Aq(CG){if(typeof CG=="number"){CG=Bz(Bk(CG))}CG.gutterMarker=null;Af=true}function Cn(CG,CH){var CJ=CG,CI=CG;if(typeof CG=="number"){CI=Bz(Bk(CG))}else{CJ=F(CG)}if(CJ==null){return null}if(CH(CI,CJ)){Ad.push({from:CJ,to:CJ+1})}else{return null}return CI}function Ao(CG,CH){return Cn(CG,function(CI){if(CI.className!=CH){CI.className=CH;return true}})}function Ak(CG,CH){return Cn(CG,function(CI,CJ){if(CI.hidden!=CH){CI.hidden=CH;Aj(CI,CH?0:1);if(CH&&(BT.from.line==CJ||BT.to.line==CJ)){Bf(BK(BT.from,BT.from.line,BT.from.ch),BK(BT.to,BT.to.line,BT.to.ch))}return(Af=true)}})}function AJ(CI){if(typeof CI=="number"){if(!BQ(CI)){return null}var CG=CI;CI=Bz(CI);if(!CI){return null}}else{var CG=F(CI);if(CG==null){return null}}var CH=CI.gutterMarker;return{line:CG,handle:CI,text:CI.text,markerText:CH&&CH.text,markerClass:CH&&CH.style,lineClass:CI.className}}function Bc(CG){BJ.innerHTML="<pre><span>x</span></pre>";BJ.firstChild.firstChild.firstChild.nodeValue=CG;return BJ.firstChild.firstChild.offsetWidth||10}function CD(CG,CR){if(CR<=0){return 0}var CP=Bz(CG),CL=CP.text;function CS(CT){BJ.innerHTML="<pre><span>"+CP.getHTML(null,null,false,BM,CT)+"</span></pre>";return BJ.firstChild.firstChild.offsetWidth}var CM=0,CO=0,CQ=CL.length,CN;var CH=Math.min(CQ,Math.ceil(CR/B4()));for(;;){var CJ=CS(CH);if(CJ<=CR&&CH<CQ){CH=Math.min(CQ,Math.ceil(CH*1.2))}else{CN=CJ;CQ=CH;break}}if(CR>CN){return CQ}CH=Math.floor(CQ*0.8);CJ=CS(CH);if(CJ<CR){CM=CH;CO=CJ}for(;;){if(CQ-CM<=1){return(CN-CR>CR-CO)?CM:CQ}var CI=Math.ceil((CM+CQ)/2),CK=CS(CI);if(CK>CR){CQ=CI;CN=CK}else{CM=CI;CO=CK}}}var Ca=Math.floor(Math.random()*16777215).toString(16);function BA(CH,CN){var CI="";if(CB.lineWrapping){var CJ=CH.text.indexOf(" ",CN+2);CI=S(CH.text.slice(CN+1,CJ<0?CH.text.length:CJ+(O?5:0)))}BJ.innerHTML="<pre>"+CH.getHTML(null,null,false,BM,CN)+'<span id="CodeMirror-temp-'+Ca+'">'+S(CH.text.charAt(CN)||" ")+"</span>"+CI+"</pre>";var CK=document.getElementById("CodeMirror-temp-"+Ca);var CM=CK.offsetTop,CL=CK.offsetLeft;if(O&&CN&&CM==0&&CL==0){var CG=document.createElement("span");CG.innerHTML="x";CK.parentNode.insertBefore(CG,CK.nextSibling);CM=CG.offsetTop}return{top:CM,left:CL}}function Co(CH,CL){var CJ,CG=BE(),CK=CG*(s(AW,CH.line)-(CL?By:0));if(CH.ch==0){CJ=0}else{var CI=BA(Bz(CH.line),CH.ch);CJ=CI.left;if(CB.lineWrapping){CK+=Math.max(0,CI.top)}}return{x:CJ,y:CK,yBot:CK+CG}}function Ag(CP,CY){if(CY<0){CY=0}var CL=BE(),CT=B4(),CJ=By+Math.floor(CY/CL);var CI=t(AW,CJ);if(CI>=AW.size){return{line:AW.size-1,ch:Bz(AW.size-1).text.length}}var CS=Bz(CI),CO=CS.text;var CN=CB.lineWrapping,CU=CN?CJ-s(AW,CI):0;if(CP<=0&&CU==0){return{line:CI,ch:0}}function CG(C1){var C0=BA(CS,C1);if(CN){var CZ=Math.round(C0.top/CL);return Math.max(0,C0.left+(CZ-CU)*BY.clientWidth)}return C0.left}var CQ=0,CK=0,CH=CO.length,CX;var CM=Math.min(CH,Math.ceil((CP+CU*BY.clientWidth*0.9)/CT));for(;;){var CV=CG(CM);if(CV<=CP&&CM<CH){CM=Math.min(CH,Math.ceil(CM*1.2))}else{CX=CV;CH=CM;break}}if(CP>CX){return{line:CI,ch:CH}}CM=Math.floor(CH*0.8);CV=CG(CM);if(CV<CP){CQ=CM;CK=CV}for(;;){if(CH-CQ<=1){return{line:CI,ch:(CX-CP>CP-CK)?CQ:CH}}var CR=Math.ceil((CQ+CH)/2),CW=CG(CR);if(CW>CP){CH=CR;CX=CW}else{CQ=CR;CK=CW}}}function Cx(CH){var CI=Co(CH,true),CG=Q(Cc);return{x:CG.left+CI.x,y:CG.top+CI.y,yBot:CG.top+CI.yBot}}var AP,Cw,Ah;function BE(){if(Ah==null){Ah="<pre>";for(var CG=0;CG<49;++CG){Ah+="x<br/>"}Ah+="x</pre>"}var CH=Ab.clientHeight;if(CH==Cw){return AP}Cw=CH;BJ.innerHTML=Ah;AP=BJ.firstChild.offsetHeight/50||1;BJ.innerHTML="";return AP}var AI,B8=0;function B4(){if(BY.clientWidth==B8){return AI}B8=BY.clientWidth;return(AI=Bc("x"))}function Bp(){return Cc.offsetTop}function Cd(){return Cc.offsetLeft}function BF(CH,CG){var CK=Q(BY,true),CI,CJ;try{CI=CH.clientX;CJ=CH.clientY}catch(CH){return null}if(!CG&&(CI-CK.left>BY.clientWidth||CJ-CK.top>BY.clientHeight)){return null}var CL=Q(Cc,true);return Ag(CI-CL.left,CJ-CL.top)}function Bd(CI){var CJ=BF(CI);if(!CJ||window.opera){return}if(I(BT.from,BT.to)||R(CJ,BT.from)||!R(CJ,BT.to)){AT(Bh)(CJ.line,CJ.ch)}var CG=Au.style.cssText;A1.style.position="absolute";Au.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(CI.clientY-5)+"px; left: "+(CI.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";A5=true;var CK=Au.value=AA();Ch();Au.select();function CH(){var CM=D(Au.value).join("\n");if(CM!=CK){AT(B5)(CM,"end")}A1.style.position="relative";Au.style.cssText=CG;A5=false;Bg(true);Bn()}if(e){m(CI);var CL=r(window,"mouseup",function(){CL();setTimeout(CH,20)},true)}else{setTimeout(CH,50)}}function Ck(){clearInterval(BV);var CG=true;BN.style.visibility="";BV=setInterval(function(){BN.style.visibility=(CG=!CG)?"":"hidden"},650)}var Am={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function CF(CT){var CN=BT.inverted?BT.from:BT.to,CX=Bz(CN.line),CZ=CN.ch-1;var CH=(CZ>=0&&Am[CX.text.charAt(CZ)])||Am[CX.text.charAt(++CZ)];if(!CH){return}var CP=CH.charAt(0),CJ=CH.charAt(1)==">",CQ=CJ?1:-1,CY=CX.styles;for(var CL=CZ+1,CK=0,CR=CY.length;CK<CR;CK+=2){if((CL-=CY[CK].length)<=0){var C0=CY[CK+1];break}}var CV=[CX.text.charAt(CZ)],CI=/[(){}[\]]/;function CO(C3,C2,Dc){if(!C3.text){return}var C1=C3.styles,Db=CJ?0:C3.text.length-1,C6;for(var C9=CJ?0:C1.length-2,C4=CJ?C1.length:-2;C9!=C4;C9+=2*CQ){var Da=C1[C9];if(C1[C9+1]!=null&&C1[C9+1]!=C0){Db+=CQ*Da.length;continue}for(var C8=CJ?0:Da.length-1,C7=CJ?Da.length:-1;C8!=C7;C8+=CQ,Db+=CQ){if(Db>=C2&&Db<Dc&&CI.test(C6=Da.charAt(C8))){var C5=Am[C6];if(C5.charAt(1)==">"==CJ){CV.push(C6)}else{if(CV.pop()!=C5.charAt(0)){return{pos:Db,match:false}}else{if(!CV.length){return{pos:Db,match:true}}}}}}}}for(var CK=CN.line,CR=CJ?Math.min(CK+100,AW.size):Math.max(-1,CK-100);CK!=CR;CK+=CQ){var CX=Bz(CK),CG=CK==CN.line;var CS=CO(CX,CG&&CJ?CZ+1:0,CG&&!CJ?CZ:CX.text.length);if(CS){break}}if(!CS){CS={pos:null,match:false}}var C0=CS.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var CW=Al({line:CN.line,ch:CZ},{line:CN.line,ch:CZ+1},C0),CU=CS.pos!=null&&Al({line:CK,ch:CS.pos},{line:CK,ch:CS.pos+1},C0);var CM=AT(function(){CW.clear();CU&&CU.clear()});if(CT){setTimeout(CM,800)}else{AS=CM}}function BD(CI){var CG,CH;for(var CL=CI,CM=CI-40;CL>CM;--CL){if(CL==0){return 0}var CJ=Bz(CL-1);if(CJ.stateAfter){return CL}var CK=CJ.indentation(CB.tabSize);if(CH==null||CG>CK){CH=CL-1;CG=CK}}return CH}function Bx(CG){var CH=BD(CG),CI=CH&&Bz(CH-1).stateAfter;if(!CI){CI=x(CC)}else{CI=Aa(CC,CI)}AW.iter(CH,CG,function(CJ){CJ.highlight(CC,CI,CB.tabSize);CJ.stateAfter=Aa(CC,CI)});if(CH<CG){Ad.push({from:CH,to:CG})}if(CG<AW.size&&!Bz(CG).stateAfter){Br.push(CG)}return CI}function AK(CH,CG){var CI=Bx(CH);AW.iter(CH,CG,function(CJ){CJ.highlight(CC,CI,CB.tabSize);CJ.stateAfter=Aa(CC,CI)})}function Cl(){var CH=+new Date+CB.workTime;var CP=Br.length;while(Br.length){if(!Bz(Ay).stateAfter){var CI=Ay}else{var CI=Br.pop()}if(CI>=AW.size){continue}var CG=BD(CI),CL=CG&&Bz(CG-1).stateAfter;if(CL){CL=Aa(CC,CL)}else{CL=x(CC)}var CM=0,CK=CC.compareStates,CJ=false,CN=CG,CO=false;AW.iter(CN,AW.size,function(CQ){var CR=CQ.stateAfter;if(+new Date>CH){Br.push(CN);Cg(CB.workDelay);if(CJ){Ad.push({from:CI,to:CN+1})}return(CO=true)}var CS=CQ.highlight(CC,CL,CB.tabSize);if(CS){CJ=true}CQ.stateAfter=Aa(CC,CL);if(CK){if(CR&&CK(CR,CL)){return true}}else{if(CS!==false||!CR){CM=0}else{if(++CM>3&&(!CC.indent||CC.indent(CR,"")==CC.indent(CL,""))){return true}}}++CN});if(CO){return}if(CJ){Ad.push({from:CI,to:CN+1})}}if(CP&&CB.onHighlightComplete){CB.onHighlightComplete(BS)}}function Cg(CG){if(!Br.length){return}Cv.set(CG,AT(Cl))}function B1(){Cs=BW=BL=null;Ad=[];BU=false;AZ=[]}function AE(){var CJ=false,CI;if(BU){CJ=!Ce()}if(Ad.length){CI=Cm(Ad,true)}else{if(BU){Bj()}if(Af){Ci()}}if(CJ){Ce()}if(BU){A3();Ck()}if(At&&!A5&&(Cs===true||(Cs!==false&&BU))){Bg(BW)}if(BU&&CB.matchBrackets){setTimeout(AT(function(){if(AS){AS();AS=null}if(I(BT.from,BT.to)){CF(false)}}),20)}var CH=BL,CK=AZ;if(BU&&CB.onCursorActivity){CB.onCursorActivity(BS)}if(CH&&CB.onChange&&BS){CB.onChange(BS,CH)}for(var CG=0;CG<CK.length;++CG){CK[CG](BS)}if(CI&&CB.onUpdate){CB.onUpdate(BS)}}var AD=0;function AT(CG){return function(){if(!AD++){B1()}try{var CH=CG.apply(this,arguments)}finally{if(!--AD){AE()}}return CH}}for(var Cy in L){if(L.propertyIsEnumerable(Cy)&&!BS.propertyIsEnumerable(Cy)){BS[Cy]=L[Cy]}}return BS}w.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:false,tabSize:4,keyMap:"default",extraKeys:null,electricChars:true,onKeyEvent:null,lineWrapping:false,lineNumbers:false,gutter:false,fixedGutter:false,firstLineNumber:1,readOnly:false,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,document:window.document};var z=/Mac/.test(navigator.platform);var T=/Win/.test(navigator.platform);var c={},Z={};w.defineMode=function(Ac,Ab){if(!w.defaults.mode&&Ac!="null"){w.defaults.mode=Ac}c[Ac]=Ab};w.defineMIME=function(Ab,Ac){Z[Ab]=Ac};w.getMode=function(Ad,Ae){if(typeof Ae=="string"&&Z.hasOwnProperty(Ae)){Ae=Z[Ae]}if(typeof Ae=="string"){var Af=Ae,Ac={}}else{if(Ae!=null){var Af=Ae.name,Ac=Ae}}var Ab=c[Af];if(!Ab){if(window.console){console.warn("No mode "+Af+" found, falling back to plain text.")}return w.getMode(Ad,"text/plain")}return Ab(Ad,Ac||{})};w.listModes=function(){var Ac=[];for(var Ab in c){if(c.propertyIsEnumerable(Ab)){Ac.push(Ab)}}return Ac};w.listMIMEs=function(){var Ac=[];for(var Ab in Z){if(Z.propertyIsEnumerable(Ab)){Ac.push({mime:Ab,mode:Z[Ab]})}}return Ac};var L=w.extensions={};w.defineExtension=function(Ac,Ab){L[Ac]=Ab};var h=w.commands={selectAll:function(Ab){Ab.setSelection({line:0,ch:0},{line:Ab.lineCount()-1})},killLine:function(Ae){var Ab=Ae.getCursor(true),Ac=Ae.getCursor(false),Ad=!I(Ab,Ac);if(!Ad&&Ae.getLine(Ab.line).length==Ab.ch){Ae.replaceRange("",Ab,{line:Ab.line+1,ch:0})}else{Ae.replaceRange("",Ab,Ad?Ac:{line:Ab.line})}},deleteLine:function(Ac){var Ab=Ac.getCursor().line;Ac.replaceRange("",{line:Ab,ch:0},{line:Ab})},undo:function(Ab){Ab.undo()},redo:function(Ab){Ab.redo()},goDocStart:function(Ab){Ab.setCursor(0,0,true)},goDocEnd:function(Ab){Ab.setSelection({line:Ab.lineCount()-1},null,true)},goLineStart:function(Ab){Ab.setCursor(Ab.getCursor().line,0,true)},goLineStartSmart:function(Ae){var Ab=Ae.getCursor();var Ac=Ae.getLine(Ab.line),Ad=Math.max(0,Ac.search(/\S/));Ae.setCursor(Ab.line,Ab.ch<=Ad&&Ab.ch?0:Ad,true)},goLineEnd:function(Ab){Ab.setSelection({line:Ab.getCursor().line},null,true)},goLineUp:function(Ab){Ab.moveV(-1,"line")},goLineDown:function(Ab){Ab.moveV(1,"line")},goPageUp:function(Ab){Ab.moveV(-1,"page")},goPageDown:function(Ab){Ab.moveV(1,"page")},goCharLeft:function(Ab){Ab.moveH(-1,"char")},goCharRight:function(Ab){Ab.moveH(1,"char")},goColumnLeft:function(Ab){Ab.moveH(-1,"column")},goColumnRight:function(Ab){Ab.moveH(1,"column")},goWordLeft:function(Ab){Ab.moveH(-1,"word")},goWordRight:function(Ab){Ab.moveH(1,"word")},delCharLeft:function(Ab){Ab.deleteH(-1,"char")},delCharRight:function(Ab){Ab.deleteH(1,"char")},delWordLeft:function(Ab){Ab.deleteH(-1,"word")},delWordRight:function(Ab){Ab.deleteH(1,"word")},indentAuto:function(Ab){Ab.indentSelection("smart")},indentMore:function(Ab){Ab.indentSelection("add")},indentLess:function(Ab){Ab.indentSelection("subtract")},insertTab:function(Ab){Ab.replaceSelection("\t","end")},transposeChars:function(Ad){var Ab=Ad.getCursor(),Ac=Ad.getLine(Ab.line);if(Ab.ch>0&&Ab.ch<Ac.length-1){Ad.replaceRange(Ac.charAt(Ab.ch)+Ac.charAt(Ab.ch-1),{line:Ab.line,ch:Ab.ch-1},{line:Ab.line,ch:Ab.ch+1})}},newlineAndIndent:function(Ab){Ab.replaceSelection("\n","end");Ab.indentLine(Ab.getCursor().line)},toggleOverwrite:function(Ab){Ab.toggleOverwrite()}};var V=w.keyMap={};V.basic={"Left":"goCharLeft","Right":"goCharRight","Up":"goLineUp","Down":"goLineDown","End":"goLineEnd","Home":"goLineStartSmart","PageUp":"goPageUp","PageDown":"goPageDown","Delete":"delCharRight","Backspace":"delCharLeft","Tab":"indentMore","Shift-Tab":"indentLess","Enter":"newlineAndIndent","Insert":"toggleOverwrite"};V.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",fallthrough:"basic"};V.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",fallthrough:["basic","emacsy"]};V["default"]=z?V.macDefault:V.pcDefault;V.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function n(Ad,Ae,Ab){function Ac(Ai,Ag,Ak){var Aj=Ag[Ai];if(Aj!=null){return Aj}if(Ak==null){Ak=Ag.fallthrough}if(Ak==null){return Ag.catchall}if(typeof Ak=="string"){return Ac(Ai,V[Ak])}for(var Af=0,Ah=Ak.length;Af<Ah;++Af){Aj=Ac(Ai,V[Ak[Af]]);if(Aj!=null){return Aj}}return null}return Ae?Ac(Ad,Ae,Ab):Ac(Ad,V[Ab])}function K(Ac){var Ab=b[Ac.keyCode];return Ab=="Ctrl"||Ab=="Alt"||Ab=="Shift"||Ab=="Mod"}w.fromTextArea=function(Ae,Af){if(!Af){Af={}}Af.value=Ae.value;if(!Af.tabindex&&Ae.tabindex){Af.tabindex=Ae.tabindex}function Ac(){Ae.value=Ah.getValue()}if(Ae.form){var Ag=r(Ae.form,"submit",Ac,true);if(typeof Ae.form.submit=="function"){var Ad=Ae.form.submit;function Ab(){Ac();Ae.form.submit=Ad;Ae.form.submit();Ae.form.submit=Ab}Ae.form.submit=Ab}}Ae.style.display="none";var Ah=w(function(Ai){Ae.parentNode.insertBefore(Ai,Ae.nextSibling)},Af);Ah.save=Ac;Ah.getTextArea=function(){return Ae};Ah.toTextArea=function(){Ac();Ae.parentNode.removeChild(Ah.getWrapperElement());Ae.style.display="";if(Ae.form){Ag();if(typeof Ae.form.submit=="function"){Ae.form.submit=Ad}}};return Ah};function Aa(Ab,Af){if(Af===true){return Af}if(Ab.copyState){return Ab.copyState(Af)}var Ad={};for(var Ac in Af){var Ae=Af[Ac];if(Ae instanceof Array){Ae=Ae.concat([])}Ad[Ac]=Ae}return Ad}w.copyState=Aa;function x(Ac,Ab,Ad){return Ac.startState?Ac.startState(Ab,Ad):true}w.startState=x;function H(Ac,Ab){this.pos=this.start=0;this.string=Ac;this.tabSize=Ab||8}H.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(Ac){var Ad=this.string.charAt(this.pos);if(typeof Ac=="string"){var Ab=Ad==Ac}else{var Ab=Ad&&(Ac.test?Ac.test(Ad):Ac(Ad))}if(Ab){++this.pos;return Ad}},eatWhile:function(Ab){var Ac=this.pos;while(this.eat(Ab)){}return this.pos>Ac},eatSpace:function(){var Ab=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>Ab},skipToEnd:function(){this.pos=this.string.length},skipTo:function(Ab){var Ac=this.string.indexOf(Ab,this.pos);if(Ac>-1){this.pos=Ac;return true}},backUp:function(Ab){this.pos-=Ab},column:function(){return N(this.string,this.start,this.tabSize)},indentation:function(){return N(this.string,null,this.tabSize)},match:function(Ae,Ad,Ab){if(typeof Ae=="string"){function Af(Ag){return Ab?Ag.toLowerCase():Ag}if(Af(this.string).indexOf(Af(Ae),this.pos)==this.pos){if(Ad!==false){this.pos+=Ae.length}return true}}else{var Ac=this.string.slice(this.pos).match(Ae);if(Ac&&Ad!==false){this.pos+=Ac[0].length}return Ac}},current:function(){return this.string.slice(this.start,this.pos)}};w.StringStream=H;function o(Ab,Ac,Ad,Ae){this.from=Ab;this.to=Ac;this.style=Ad;this.set=Ae}o.prototype={attach:function(Ab){this.set.push(Ab)},detach:function(Ac){var Ab=B(this.set,Ac);if(Ab>-1){this.set.splice(Ab,1)}},split:function(Ad,Ae){if(this.to<=Ad&&this.to!=null){return null}var Ab=this.from<Ad||this.from==null?null:this.from-Ad+Ae;var Ac=this.to==null?null:this.to-Ad+Ae;return new o(Ab,Ac,this.style,this.set)},dup:function(){return new o(null,null,this.style,this.set)},clipTo:function(Ae,Ac,Af,Ad,Ab){if(this.from!=null&&this.from>=Ac){this.from=Math.max(Ad,this.from)+Ab}if(this.to!=null&&this.to>Ac){this.to=Ad<this.to?this.to+Ab:Ac}if(Ae&&Ad>this.from&&(Ad<this.to||this.to==null)){this.from=null}if(Af&&(Ac<this.to||this.to==null)&&(Ac>this.from||this.from==null)){this.to=null}},isDead:function(){return this.from!=null&&this.to!=null&&this.from>=this.to},sameSet:function(Ab){return this.set==Ab.set}};function P(Ab){this.from=Ab;this.to=Ab;this.line=null}P.prototype={attach:function(Ab){this.line=Ab},detach:function(Ab){if(this.line==Ab){this.line=null}},split:function(Ab,Ac){if(Ab<this.from){this.from=this.to=(this.from-Ab)+Ac;return this}},isDead:function(){return this.from>this.to},clipTo:function(Ae,Ac,Af,Ad,Ab){if((Ae||Ac<this.from)&&(Af||Ad>this.to)){this.from=0;this.to=-1}else{if(this.from>Ac){this.from=this.to=Math.max(Ad,this.from)+Ab}}},sameSet:function(Ab){return false},find:function(){if(!this.line||!this.line.parent){return null}return{line:F(this.line),ch:this.from}},clear:function(){if(this.line){var Ab=B(this.line.marked,this);if(Ab!=-1){this.line.marked.splice(Ab,1)}this.line=null}}};function W(Ab,Ac){this.styles=Ac||[Ab,null];this.text=Ab;this.height=1;this.marked=this.gutterMarker=this.className=this.handlers=null;this.stateAfter=this.parent=this.hidden=null}W.inheritMarks=function(Ag,Ai){var Ad=new W(Ag),Ac=Ai&&Ai.marked;if(Ac){for(var Af=0;Af<Ac.length;++Af){if(Ac[Af].to==null&&Ac[Af].style){var Ah=Ad.marked||(Ad.marked=[]),Ab=Ac[Af];var Ae=Ab.dup();Ah.push(Ae);Ae.attach(Ad)}}}return Ad};W.prototype={replace:function(Ah,Ae,Ag){var Ab=[],Af=this.marked,Aj=Ae==null?this.text.length:Ae;j(0,Ah,this.styles,Ab);if(Ag){Ab.push(Ag,null)}j(Aj,this.text.length,this.styles,Ab);this.styles=Ab;this.text=this.text.slice(0,Ah)+Ag+this.text.slice(Aj);this.stateAfter=null;if(Af){var Ad=Ag.length-(Aj-Ah);for(var Ai=0,Ac=Af[Ai];Ai<Af.length;++Ai){Ac.clipTo(Ah==null,Ah||0,Ae==null,Aj,Ad);if(Ac.isDead()){Ac.detach(this);Af.splice(Ai--,1)}}}},split:function(Ag,Ah){var Ab=[Ah,null],Af=this.marked;j(Ag,this.text.length,this.styles,Ab);var Ac=new W(Ah+this.text.slice(Ag),Ab);if(Af){for(var Ai=0;Ai<Af.length;++Ai){var Ad=Af[Ai];var Ae=Ad.split(Ag,Ah.length);if(Ae){if(!Ac.marked){Ac.marked=[]}Ac.marked.push(Ae);Ae.attach(Ac)}}}return Ac},append:function(Ac){var Ai=this.text.length,Af=Ac.marked,Ae=this.marked;this.text+=Ac.text;j(0,Ac.text.length,Ac.styles,this.styles);if(Ae){for(var Ah=0;Ah<Ae.length;++Ah){if(Ae[Ah].to==null){Ae[Ah].to=Ai}}}if(Af&&Af.length){if(!Ae){this.marked=Ae=[]}outer:for(var Ah=0;Ah<Af.length;++Ah){var Ab=Af[Ah];if(!Ab.from){for(var Ad=0;Ad<Ae.length;++Ad){var Ag=Ae[Ad];if(Ag.to==Ai&&Ag.sameSet(Ab)){Ag.to=Ab.to==null?null:Ab.to+Ai;if(Ag.isDead()){Ag.detach(this);Af.splice(Ah--,1)}continue outer}}}Ae.push(Ab);Ab.attach(this);Ab.from+=Ai;if(Ab.to!=null){Ab.to+=Ai}}}},fixMarkEnds:function(Ah){var Ad=this.marked,Af=Ah.marked;if(!Ad){return}for(var Ac=0;Ac<Ad.length;++Ac){var Ab=Ad[Ac],Ae=Ab.to==null;if(Ae&&Af){for(var Ag=0;Ag<Af.length;++Ag){if(Af[Ag].sameSet(Ab)){Ae=false;break}}}if(Ae){Ab.to=this.text.length}}},fixMarkStarts:function(){var Ac=this.marked;if(!Ac){return}for(var Ab=0;Ab<Ac.length;++Ab){if(Ac[Ab].from==null){Ac[Ab].from=0}}},addMark:function(Ab){Ab.attach(this);if(this.marked==null){this.marked=[]}this.marked.push(Ab);this.marked.sort(function(Ad,Ac){return(Ad.from||0)-(Ac.from||0)})},highlight:function(Aj,Ag,Ak){var Af=new H(this.text,Ak),Ab=this.styles,Ad=0;var Ai=false,Ae=Ab[0],Ac;if(this.text==""&&Aj.blankLine){Aj.blankLine(Ag)}while(!Af.eol()){var Ah=Aj.token(Af,Ag);var Al=this.text.slice(Af.start,Af.pos);Af.start=Af.pos;if(Ad&&Ab[Ad-1]==Ah){Ab[Ad-2]+=Al}else{if(Al){if(!Ai&&(Ab[Ad+1]!=Ah||(Ad&&Ab[Ad-2]!=Ac))){Ai=true}Ab[Ad++]=Al;Ab[Ad++]=Ah;Ac=Ae;Ae=Ab[Ad]}}if(Af.pos>5000){Ab[Ad++]=this.text.slice(Af.pos);Ab[Ad++]=null;break}}if(Ab.length!=Ad){Ab.length=Ad;Ai=true}if(Ad&&Ab[Ad-2]!=Ac){Ai=true}return Ai||(Ab.length<5&&this.text.length<10?null:false)},getTokenAt:function(Ab,Ag,Ae){var Af=this.text,Ac=new H(Af);while(Ac.pos<Ae&&!Ac.eol()){Ac.start=Ac.pos;var Ad=Ab.token(Ac,Ag)}return{start:Ac.start,end:Ac.pos,string:Ac.current(),className:Ad||null,state:Ag}},indentation:function(Ab){return N(this.text,null,Ab)},getHTML:function(Am,Aq,Af,Aw,Ar){var Ao=[],An=true;if(Af){Ao.push(this.className?'<pre class="'+this.className+'">':"<pre>")}function At(AC,AD){if(!AC){return}if(An&&O&&AC.charAt(0)==" "){AC="\u00a0"+AC.slice(1)}An=false;if(AD){Ao.push('<span class="',AD,'">',S(AC).replace(/\t/g,Aw),"</span>")}else{Ao.push(S(AC).replace(/\t/g,Aw))}}var Ax=this.styles,Au=this.text,Ad=this.marked;if(Am==Aq){Am=null}var Ac=Au.length;if(Ar!=null){Ac=Math.min(Ar,Ac)}if(!Au&&Ar==null){At(" ",Am!=null&&Aq==null?"CodeMirror-selected":null)}else{if(!Ad&&Am==null){for(var Ae=0,Al=0;Al<Ac;Ae+=2){var Ab=Ax[Ae],AB=Ax[Ae+1],Ag=Ab.length;if(Al+Ag>Ac){Ab=Ab.slice(0,Ac-Al)}Al+=Ag;At(Ab,AB&&"cm-"+AB)}}else{var AA=0,Ae=0,Ap="",AB,Az=0;var Ai=-1,Ay=null;function Aj(){if(Ad){Ai+=1;Ay=(Ai<Ad.length)?Ad[Ai]:null}}Aj();while(AA<Ac){var Ah=Ac;var Av="";if(Am!=null){if(Am>AA){Ah=Am}else{if(Aq==null||Aq>AA){Av=" CodeMirror-selected";if(Aq!=null){Ah=Math.min(Ah,Aq)}}}}while(Ay&&Ay.to!=null&&Ay.to<=AA){Aj()}if(Ay){if(Ay.from>AA){Ah=Math.min(Ah,Ay.from)}else{Av+=" "+Ay.style;if(Ay.to!=null){Ah=Math.min(Ah,Ay.to)}}}for(;;){var Ak=AA+Ap.length;var As=AB;if(Av){As=AB?AB+Av:Av}At(Ak>Ah?Ap.slice(0,Ah-AA):Ap,As);if(Ak>=Ah){Ap=Ap.slice(Ah-AA);AA=Ah;break}AA=Ak;Ap=Ax[Ae++];AB="cm-"+Ax[Ae++]}}if(Am!=null&&Aq==null){At(" ","CodeMirror-selected")}}}if(Af){Ao.push("</pre>")}return Ao.join("")},cleanUp:function(){this.parent=null;if(this.marked){for(var Ab=0,Ac=this.marked.length;Ab<Ac;++Ab){this.marked[Ab].detach(this)}}}};function j(Ab,Ai,Ag,Ad){for(var Ah=0,Af=0,Ae=0;Af<Ai;Ah+=2){var Ac=Ag[Ah],Aj=Af+Ac.length;if(Ae==0){if(Aj>Ab){Ad.push(Ac.slice(Ab-Af,Math.min(Ac.length,Ai-Af)),Ag[Ah+1])}if(Aj>=Ab){Ae=1}}else{if(Ae==1){if(Aj>Ai){Ad.push(Ac.slice(0,Ai-Af),Ag[Ah+1])}else{Ad.push(Ac,Ag[Ah+1])}}}Af=Aj}}function M(Ad){this.lines=Ad;this.parent=null;for(var Ab=0,Ac=Ad.length,Ae=0;Ab<Ac;++Ab){Ad[Ab].parent=this;Ae+=Ad[Ab].height}this.height=Ae}M.prototype={chunkSize:function(){return this.lines.length},remove:function(Ag,Ad,Ah){for(var Ac=Ag,Ae=Ag+Ad;Ac<Ae;++Ac){var Af=this.lines[Ac];this.height-=Af.height;Af.cleanUp();if(Af.handlers){for(var Ab=0;Ab<Af.handlers.length;++Ab){Ah.push(Af.handlers[Ab])}}}this.lines.splice(Ag,Ad)},collapse:function(Ab){Ab.splice.apply(Ab,[Ab.length,0].concat(this.lines))},insertHeight:function(Af,Ad,Ab){this.height+=Ab;this.lines.splice.apply(this.lines,[Af,0].concat(Ad));for(var Ac=0,Ae=Ad.length;Ac<Ae;++Ac){Ad[Ac].parent=this}},iterN:function(Ae,Ab,Ac){for(var Ad=Ae+Ab;Ae<Ad;++Ae){if(Ac(this.lines[Ae])){return true}}}};function A(Ag){this.children=Ag;var Ab=0,Ac=0;for(var Ad=0,Ae=Ag.length;Ad<Ae;++Ad){var Af=Ag[Ad];Ab+=Af.chunkSize();Ac+=Af.height;Af.parent=this}this.size=Ab;this.height=Ac;this.parent=null}A.prototype={chunkSize:function(){return this.size},remove:function(Aj,Ag,Ae){this.size-=Ag;for(var Af=0;Af<this.children.length;++Af){var Ai=this.children[Af],Ab=Ai.chunkSize();if(Aj<Ab){var Ah=Math.min(Ag,Ab-Aj),Ac=Ai.height;Ai.remove(Aj,Ah,Ae);this.height-=Ac-Ai.height;if(Ab==Ah){this.children.splice(Af--,1);Ai.parent=null}if((Ag-=Ah)==0){break}Aj=0}else{Aj-=Ab}}if(this.size-Ag<25){var Ad=[];this.collapse(Ad);this.children=[new M(Ad)]}},collapse:function(Ad){for(var Ab=0,Ac=this.children.length;Ab<Ac;++Ab){this.children[Ab].collapse(Ad)}},insert:function(Af,Ad){var Ab=0;for(var Ac=0,Ae=Ad.length;Ac<Ae;++Ac){Ab+=Ad[Ac].height}this.insertHeight(Af,Ad,Ab)},insertHeight:function(Aj,Ae,Ad){this.size+=Ae.length;this.height+=Ad;for(var Af=0,Ab=this.children.length;Af<Ab;++Af){var Ah=this.children[Af],Ac=Ah.chunkSize();if(Aj<=Ac){Ah.insertHeight(Aj,Ae,Ad);if(Ah.lines&&Ah.lines.length>50){while(Ah.lines.length>50){var Ai=Ah.lines.splice(Ah.lines.length-25,25);var Ag=new M(Ai);Ah.height-=Ag.height;this.children.splice(Af+1,0,Ag);Ag.parent=this}this.maybeSpill()}break}Aj-=Ac}},maybeSpill:function(){if(this.children.length<=10){return}var Ae=this;do{var Ab=Ae.children.splice(Ae.children.length-5,5);var Ad=new A(Ab);if(!Ae.parent){var Af=new A(Ae.children);Af.parent=Ae;Ae.children=[Af,Ad];Ae=Af}else{Ae.size-=Ad.size;Ae.height-=Ad.height;var Ac=B(Ae.parent.children,Ae);Ae.parent.children.splice(Ac+1,0,Ad)}Ad.parent=Ae.parent}while(Ae.children.length>10);Ae.parent.maybeSpill()},iter:function(Ab,Ac,Ad){this.iterN(Ab,Ac-Ab,Ad)},iterN:function(Ai,Af,Ag){for(var Ae=0,Ab=this.children.length;Ae<Ab;++Ae){var Ah=this.children[Ae],Ac=Ah.chunkSize();if(Ai<Ac){var Ad=Math.min(Af,Ac-Ai);if(Ah.iterN(Ai,Ad,Ag)){return true}if((Af-=Ad)==0){break}Ai=0}else{Ai-=Ac}}}};function y(Ab,Ad){while(!Ab.lines){for(var Ac=0;;++Ac){var Af=Ab.children[Ac],Ae=Af.chunkSize();if(Ad<Ae){Ab=Af;break}Ad-=Ae}}return Ab.lines[Ad]}function F(Ae){if(Ae.parent==null){return null}var Ab=Ae.parent,Af=B(Ab.lines,Ae);for(var Ag=Ab.parent;Ag;Ab=Ag,Ag=Ag.parent){for(var Ac=0,Ad=Ag.children.length;;++Ac){if(Ag.children[Ac]==Ab){break}Af+=Ag.children[Ac].chunkSize()}}return Af}function t(Ai,Ah){var Ag=0;outer:do{for(var Af=0,Ab=Ai.children.length;Af<Ab;++Af){var Aj=Ai.children[Af],Ae=Aj.height;if(Ah<Ae){Ai=Aj;continue outer}Ah-=Ae;Ag+=Aj.chunkSize()}return Ag}while(!Ai.lines);for(var Af=0,Ab=Ai.lines.length;Af<Ab;++Af){var Ac=Ai.lines[Af],Ad=Ac.height;if(Ah<Ad){break}Ah-=Ad}return Ag+Af}function s(Ab,Ad){var Ac=0;outer:do{for(var Ae=0,Af=Ab.children.length;Ae<Af;++Ae){var Ah=Ab.children[Ae],Ag=Ah.chunkSize();if(Ad<Ag){Ab=Ah;continue outer}Ad-=Ag;Ac+=Ah.height}return Ac}while(!Ab.lines);for(var Ae=0;Ae<Ad;++Ae){Ac+=Ab.lines[Ae].height}return Ac}function u(){this.time=0;this.done=[];this.undone=[]}u.prototype={addChange:function(Ae,Ah,Ad){this.undone.length=0;var Ac=+new Date,Ag=this.done[this.done.length-1];if(Ac-this.time>400||!Ag||Ag.start>Ae+Ah||Ag.start+Ag.added<Ae-Ag.added+Ag.old.length){this.done.push({start:Ae,added:Ah,old:Ad})}else{var Ai=0;if(Ae<Ag.start){for(var Af=Ag.start-Ae-1;Af>=0;--Af){Ag.old.unshift(Ad[Af])}Ag.added+=Ag.start-Ae;Ag.start=Ae}else{if(Ag.start<Ae){Ai=Ae-Ag.start;Ah+=Ai}}for(var Af=Ag.added-Ai,Ab=Ad.length;Af<Ab;++Af){Ag.old.push(Ad[Af])}if(Ag.added<Ah){Ag.added=Ah}}this.time=Ac}};function f(){m(this)}function g(Ab){if(!Ab.stop){Ab.stop=f}return Ab}function X(Ab){if(Ab.preventDefault){Ab.preventDefault()}else{Ab.returnValue=false}}function U(Ab){if(Ab.stopPropagation){Ab.stopPropagation()}else{Ab.cancelBubble=true}}function m(Ab){X(Ab);U(Ab)}w.e_stop=m;w.e_preventDefault=X;w.e_stopPropagation=U;function i(Ab){return Ab.target||Ab.srcElement}function k(Ab){if(Ab.which){return Ab.which}else{if(Ab.button&1){return 1}else{if(Ab.button&2){return 3}else{if(Ab.button&4){return 2}}}}}function r(Ad,Ab,Af,Ae){if(typeof Ad.addEventListener=="function"){Ad.addEventListener(Ab,Af,false);if(Ae){return function(){Ad.removeEventListener(Ab,Af,false)}}}else{var Ac=function(Ag){Af(Ag||window.event)};Ad.attachEvent("on"+Ab,Ac);if(Ae){return function(){Ad.detachEvent("on"+Ab,Ac)}}}}w.connect=r;function a(){this.id=null}a.prototype={set:function(Ab,Ac){clearTimeout(this.id);this.id=setTimeout(Ac,Ab)}};var G=function(){if(/MSIE [1-8]\b/.test(navigator.userAgent)){return false}var Ab=document.createElement("div");return"draggable" in Ab}();var e=/gecko\/\d{7}/i.test(navigator.userAgent);var O=/MSIE \d/.test(navigator.userAgent);var p=/WebKit\//.test(navigator.userAgent);var v="\n";(function(){var Ab=document.createElement("textarea");Ab.value="foo\nbar";if(Ab.value.indexOf("\r")>-1){v="\r\n"}}());function N(Ae,Af,Ab){if(Af==null){Af=Ae.search(/[^\s\u00a0]/);if(Af==-1){Af=Ae.length}}for(var Ac=0,Ad=0;Ac<Af;++Ac){if(Ae.charAt(Ac)=="\t"){Ad+=Ab-(Ad%Ab)}else{++Ad}}return Ad}function C(Ab){if(Ab.currentStyle){return Ab.currentStyle}return window.getComputedStyle(Ab,null)}function Q(Ag,Ad){var Ah=Ag.ownerDocument.body;var Ai=0,Aj=0,Ac=false;for(var Af=Ag;Af;Af=Af.offsetParent){var Ab=Af.offsetLeft,Ak=Af.offsetTop;if(Af==Ah){Ai+=Math.abs(Ab);Aj+=Math.abs(Ak)}else{Ai+=Ab,Aj+=Ak}if(Ad&&C(Af).position=="fixed"){Ac=true}}var Ae=Ad&&!Ac?null:Ah;for(var Af=Ag.parentNode;Af!=Ae;Af=Af.parentNode){if(Af.scrollLeft!=null){Ai-=Af.scrollLeft;Aj-=Af.scrollTop}}return{left:Ai,top:Aj}}if(document.documentElement.getBoundingClientRect!=null){Q=function(Ad,Ac){try{var Ab=Ad.getBoundingClientRect();Ab={top:Ab.top,left:Ab.left}}catch(Ae){Ab={top:0,left:0}}if(!Ac){if(window.pageYOffset==null){var Af=document.documentElement||document.body.parentNode;if(Af.scrollTop==null){Af=document.body}Ab.top+=Af.scrollTop;Ab.left+=Af.scrollLeft}else{Ab.top+=window.pageYOffset;Ab.left+=window.pageXOffset}}return Ab}}function l(Ab){return Ab.textContent||Ab.innerText||Ab.nodeValue||""}function I(Ac,Ab){return Ac.line==Ab.line&&Ac.ch==Ab.ch}function R(Ac,Ab){return Ac.line<Ab.line||(Ac.line==Ab.line&&Ac.ch<Ab.ch)}function J(Ab){return{line:Ab.line,ch:Ab.ch}}var Y=document.createElement("pre");function S(Ab){Y.textContent=Ab;return Y.innerHTML}if(S("a")=="\na"){S=function(Ab){Y.textContent=Ab;return Y.innerHTML.slice(1)}}else{if(S("\t")!="\t"){S=function(Ab){Y.innerHTML="";Y.appendChild(document.createTextNode(Ab));return Y.innerHTML}}}w.htmlEscape=S;function d(Ab,Ad){if(!Ad){return Ab?Ab.length:0}if(!Ab){return Ad.length}for(var Ac=Ab.length,Ae=Ad.length;Ac>=0&&Ae>=0;--Ac,--Ae){if(Ab.charAt(Ac)!=Ad.charAt(Ae)){break}}return Ae+1}function B(Ad,Ae){if(Ad.indexOf){return Ad.indexOf(Ae)}for(var Ab=0,Ac=Ad.length;Ab<Ac;++Ab){if(Ad[Ab]==Ae){return Ab}}return -1}function E(Ab){return/\w/.test(Ab)||Ab.toUpperCase()!=Ab.toLowerCase()}var D="\n\nb".split(/\n/).length!=3?function(Ae){var Ad=0,Ab,Ac=[];while((Ab=Ae.indexOf("\n",Ad))>-1){Ac.push(Ae.slice(Ad,Ae.charAt(Ab-1)=="\r"?Ab-1:Ab));Ad=Ab+1}Ac.push(Ae.slice(Ad));return Ac}:function(Ab){return Ab.split(/\r?\n/)};w.splitLines=D;var q=window.getSelection?function(Ac){try{return Ac.selectionStart!=Ac.selectionEnd}catch(Ab){return false}}:function(Ac){try{var Ad=Ac.ownerDocument.selection.createRange()}catch(Ab){}if(!Ad||Ad.parentElement()!=Ac){return false}return Ad.compareEndPoints("StartToEnd",Ad)!=0};w.defineMode("null",function(){return{token:function(Ab){Ab.skipToEnd()}}});w.defineMIME("text/plain","null");var b={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};w.keyNames=b;(function(){for(var Ab=0;Ab<10;Ab++){b[Ab+48]=String(Ab)}for(var Ab=65;Ab<=90;Ab++){b[Ab]=String.fromCharCode(Ab)}for(var Ab=1;Ab<=12;Ab++){b[Ab+111]=b[Ab+63235]="F"+Ab}})();return w})();CodeMirror.defineMode("xml",function(A,S){var M=A.indentUnit;var T=S.htmlMode?{autoSelfClosers:{"br":true,"img":true,"hr":true,"link":true,"input":true,"meta":true,"col":true,"frame":true,"base":true,"area":true},doNotIndent:{"pre":true},allowUnquoted:true}:{autoSelfClosers:{},doNotIndent:{},allowUnquoted:false};var K=S.alignCDATA;var G,V;function B(d,a){function Y(c){a.tokenize=c;return c(d,a)}var Z=d.next();if(Z=="<"){if(d.eat("!")){if(d.eat("[")){if(d.match("CDATA[")){return Y(E("atom","]]>"))}else{return null}}else{if(d.match("--")){return Y(E("comment","-->"))}else{if(d.match("DOCTYPE",true,true)){d.eatWhile(/[\w\._\-]/);return Y(Q(1))}else{return null}}}}else{if(d.eat("?")){d.eatWhile(/[\w\._\-]/);a.tokenize=E("meta","?>");return"meta"}else{V=d.eat("/")?"closeTag":"openTag";d.eatSpace();G="";var b;while((b=d.eat(/[^\s\u00a0=<>\"\'\/?]/))){G+=b}a.tokenize=H;return"tag"}}}else{if(Z=="&"){d.eatWhile(/[^;]/);d.eat(";");return"atom"}else{d.eatWhile(/[^&<]/);return null}}}function H(a,Z){var Y=a.next();if(Y==">"||(Y=="/"&&a.eat(">"))){Z.tokenize=B;V=Y==">"?"endTag":"selfcloseTag";return"tag"}else{if(Y=="="){V="equals";return null}else{if(/[\'\"]/.test(Y)){Z.tokenize=L(Y);return Z.tokenize(a,Z)}else{a.eatWhile(/[^\s\u00a0=<>\"\'\/?]/);return"word"}}}}function L(Y){return function(a,Z){while(!a.eol()){if(a.next()==Y){Z.tokenize=H;break}}return"string"}}function E(Z,Y){return function(b,a){while(!b.eol()){if(b.match(Y)){a.tokenize=B;break}b.next()}return Z}}function Q(Y){return function(b,a){var Z;while((Z=b.next())!=null){if(Z=="<"){a.tokenize=Q(Y+1);return a.tokenize(b,a)}else{if(Z==">"){if(Y==1){a.tokenize=B;break}else{a.tokenize=Q(Y-1);return a.tokenize(b,a)}}}}return"meta"}}var I,J;function U(){for(var Y=arguments.length-1;Y>=0;Y--){I.cc.push(arguments[Y])}}function C(){U.apply(null,arguments);return true}function D(Y,Z){var a=T.doNotIndent.hasOwnProperty(Y)||(I.context&&I.context.noIndent);I.context={prev:I.context,tagName:Y,indent:I.indented,startOfLine:Z,noIndent:a}}function O(){if(I.context){I.context=I.context.prev}}function P(Y){if(Y=="openTag"){I.tagName=G;return C(R,F(I.startOfLine))}else{if(Y=="closeTag"){var Z=false;if(I.context){Z=I.context.tagName!=G}else{Z=true}if(Z){J="error"}return C(N(Z))}}return C()}function F(Y){return function(Z){if(Z=="selfcloseTag"||(Z=="endTag"&&T.autoSelfClosers.hasOwnProperty(I.tagName.toLowerCase()))){return C()}if(Z=="endTag"){D(I.tagName,Y);return C()}return C()}}function N(Y){return function(Z){if(Y){J="error"}if(Z=="endTag"){O();return C()}J="error";return C(arguments.callee)}}function R(Y){if(Y=="word"){J="attribute";return C(R)}if(Y=="equals"){return C(W,R)}if(Y=="string"){J="error";return C(R)}return U()}function W(Y){if(Y=="word"&&T.allowUnquoted){J="string";return C()}if(Y=="string"){return C(X)}return U()}function X(Y){if(Y=="string"){return C(X)}else{return U()}}return{startState:function(){return{tokenize:B,cc:[],indented:0,startOfLine:true,tagName:null,context:null}},token:function(b,a){if(b.sol()){a.startOfLine=true;a.indented=b.indentation()}if(b.eatSpace()){return null}J=V=G=null;var Z=a.tokenize(b,a);a.type=V;if((Z||V)&&Z!="comment"){I=a;while(true){var Y=a.cc.pop()||P;if(Y(V||Z)){break}}}a.startOfLine=false;return J||Z},indent:function(b,Z,a){var Y=b.context;if((b.tokenize!=H&&b.tokenize!=B)||Y&&Y.noIndent){return a?a.match(/^(\s*)/)[0].length:0}if(K&&/<!\[CDATA\[/.test(Z)){return 0}if(Y&&/^<\//.test(Z)){Y=Y.prev}while(Y&&!Y.startOfLine){Y=Y.prev}if(Y){return Y.indent+M}else{return 0}},compareStates:function(d,Z){if(d.indented!=Z.indented||d.tokenize!=Z.tokenize){return false}for(var c=d.context,Y=Z.context;;c=c.prev,Y=Y.prev){if(!c||!Y){return c==Y}if(c.tagName!=Y.tagName){return false}}},electricChars:"/"}});CodeMirror.defineMIME("application/xml","xml");CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true});CodeMirror.defineMode("javascript",function(a,N){var X=a.indentUnit;var I=N.json;var G=function(){function w(z){return{type:z,style:"keyword"}}var y=w("keyword a"),v=w("keyword b"),x=w("keyword c");var t=w("operator"),u={type:"atom",style:"atom"};return{"if":y,"while":y,"with":y,"else":v,"do":v,"try":v,"finally":v,"return":x,"break":x,"continue":x,"new":x,"delete":x,"throw":x,"var":w("var"),"const":w("var"),"let":w("var"),"function":w("function"),"catch":w("catch"),"for":w("for"),"switch":w("switch"),"case":w("case"),"default":w("default"),"in":t,"typeof":t,"instanceof":t,"true":u,"false":u,"null":u,"undefined":u,"NaN":u,"Infinity":u}}();var Z=/[+\-*&%=<>!?|]/;function q(v,u,t){u.tokenize=t;return t(v,u)}function h(w,u){var t=false,v;while((v=w.next())!=null){if(v==u&&!t){return false}t=!t&&v=="\\"}return t}var A,S;function H(v,u,t){A=v;S=t;return u}function M(x,v){var u=x.next();if(u=='"'||u=="'"){return q(x,v,W(u))}else{if(/[\[\]{}\(\),;\:\.]/.test(u)){return H(u)}else{if(u=="0"&&x.eat(/x/i)){x.eatWhile(/[\da-f]/i);return H("number","number")}else{if(/\d/.test(u)){x.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return H("number","number")}else{if(u=="/"){if(x.eat("*")){return q(x,v,R)}else{if(x.eat("/")){x.skipToEnd();return H("comment","comment")}else{if(v.reAllowed){h(x,"/");x.eatWhile(/[gimy]/);return H("regexp","string")}else{x.eatWhile(Z);return H("operator",null,x.current())}}}}else{if(u=="#"){x.skipToEnd();return H("error","error")}else{if(Z.test(u)){x.eatWhile(Z);return H("operator",null,x.current())}else{x.eatWhile(/[\w\$_]/);var w=x.current(),t=G.propertyIsEnumerable(w)&&G[w];return(t&&v.kwAllowed)?H(t.type,t.style,w):H("variable","variable",w)}}}}}}}}function W(t){return function(v,u){if(!h(v,t)){u.tokenize=M}return H("string","string")}}function R(w,u){var v=false,t;while(t=w.next()){if(t=="/"&&v){u.tokenize=M;break}v=(t=="*")}return H("comment","comment")}var o={"atom":true,"number":true,"variable":true,"string":true,"regexp":true};function D(y,x,t,v,u,w){this.indented=y;this.column=x;this.type=t;this.prev=u;this.info=w;if(v!=null){this.align=v}}function L(w,t){for(var u=w.localVars;u;u=u.next){if(u.name==t){return true}}}function e(z,w,t,x,v){var u=z.cc;i.state=z;i.stream=v;i.marked=null,i.cc=u;if(!z.lexical.hasOwnProperty("align")){z.lexical.align=true}while(true){var y=u.length?u.pop():I?T:U;if(y(t,x)){while(u.length&&u[u.length-1].lex){u.pop()()}if(i.marked){return i.marked}if(t=="variable"&&L(z,x)){return"variable-2"}return w}}}var i={state:null,column:null,marked:null,cc:null};function s(){for(var t=arguments.length-1;t>=0;t--){i.cc.push(arguments[t])}}function r(){s.apply(null,arguments);return true}function b(t){var w=i.state;if(w.context){i.marked="def";for(var u=w.localVars;u;u=u.next){if(u.name==t){return}}w.localVars={name:t,next:w.localVars}}}var Q={name:"this",next:{name:"arguments"}};function n(){if(!i.state.context){i.state.localVars=Q}i.state.context={prev:i.state.context,vars:i.state.localVars}}function g(){i.state.localVars=i.state.context.vars;i.state.context=i.state.context.prev}function m(t,v){var u=function(){var w=i.state;w.lexical=new D(w.indented,i.stream.column(),t,null,w.lexical,v)};u.lex=true;return u}function P(){var t=i.state;if(t.lexical.prev){if(t.lexical.type==")"){t.indented=t.lexical.indented}t.lexical=t.lexical.prev}}P.lex=true;function l(u){return function t(v){if(v==u){return r()}else{if(u==";"){return s()}else{return r(arguments.callee)}}}}function U(t){if(t=="var"){return r(m("vardef"),c,l(";"),P)}if(t=="keyword a"){return r(m("form"),T,U,P)}if(t=="keyword b"){return r(m("form"),U,P)}if(t=="{"){return r(m("}"),O,P)}if(t==";"){return r()}if(t=="function"){return r(F)}if(t=="for"){return r(m("form"),l("("),m(")"),E,l(")"),P,U,P)}if(t=="variable"){return r(m("stat"),B)}if(t=="switch"){return r(m("form"),T,m("}","switch"),l("{"),O,P,P)}if(t=="case"){return r(T,l(":"))}if(t=="default"){return r(l(":"))}if(t=="catch"){return r(m("form"),n,l("("),Y,l(")"),U,P,g)}return s(m("stat"),T,l(";"),P)}function T(t){if(o.hasOwnProperty(t)){return r(k)}if(t=="function"){return r(F)}if(t=="keyword c"){return r(f)}if(t=="("){return r(m(")"),T,l(")"),P,k)}if(t=="operator"){return r(T)}if(t=="["){return r(m("]"),K(T,"]"),P,k)}if(t=="{"){return r(m("}"),K(C,"}"),P,k)}return r()}function f(t){if(t.match(/[;\}\)\],]/)){return s()}return s(T)}function k(t,u){if(t=="operator"&&/\+\+|--/.test(u)){return r(k)}if(t=="operator"){return r(T)}if(t==";"){return}if(t=="("){return r(m(")"),K(T,")"),P,k)}if(t=="."){return r(j,k)}if(t=="["){return r(m("]"),T,l("]"),P,k)}}function B(t){if(t==":"){return r(P,U)}return s(k,l(";"),P)}function j(t){if(t=="variable"){i.marked="property";return r()}}function C(t){if(t=="variable"){i.marked="property"}if(o.hasOwnProperty(t)){return r(l(":"),T)}}function K(w,u){function t(x){if(x==","){return r(w,t)}if(x==u){return r()}return r(l(u))}return function v(x){if(x==u){return r()}else{return s(w,t)}}}function O(t){if(t=="}"){return r()}return s(U,O)}function c(t,u){if(t=="variable"){b(u);return r(p)}return r()}function p(t,u){if(u=="="){return r(T,p)}if(t==","){return r(c)}}function E(t){if(t=="var"){return r(c,J)}if(t==";"){return s(J)}if(t=="variable"){return r(V)}return s(J)}function V(t,u){if(u=="in"){return r(T)}return r(k,J)}function J(t,u){if(t==";"){return r(d)}if(u=="in"){return r(T)}return r(T,l(";"),d)}function d(t){if(t!=")"){r(T)}}function F(t,u){if(t=="variable"){b(u);return r(F)}if(t=="("){return r(m(")"),n,K(Y,")"),P,U,g)}}function Y(t,u){if(t=="variable"){b(u);return r()}}return{startState:function(t){return{tokenize:M,reAllowed:true,kwAllowed:true,cc:[],lexical:new D((t||0)-X,0,"block",false),localVars:null,context:null,indented:0}},token:function(v,u){if(v.sol()){if(!u.lexical.hasOwnProperty("align")){u.lexical.align=false}u.indented=v.indentation()}if(v.eatSpace()){return null}var t=u.tokenize(v,u);if(A=="comment"){return t}u.reAllowed=A=="operator"||A=="keyword c"||A.match(/^[\[{}\(,;:]$/);u.kwAllowed=A!=".";return e(u,t,A,S,v)},indent:function(y,v){if(y.tokenize!=M){return 0}var x=v&&v.charAt(0),w=y.lexical,t=w.type,u=x==t;if(t=="vardef"){return w.indented+4}else{if(t=="form"&&x=="{"){return w.indented}else{if(t=="stat"||t=="form"){return w.indented+X}else{if(w.info=="switch"&&!u){return w.indented+(/^(?:case|default)\b/.test(v)?X:2*X)}else{if(w.align){return w.column+(u?0:1)}else{return w.indented+(u?0:X)}}}}}},electricChars:":{}"}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMode("css",function(A){var B=A.indentUnit,F;function H(I,J){F=J;return I}function D(K,J){var I=K.next();if(I=="@"){K.eatWhile(/[\w\\\-]/);return H("meta",K.current())}else{if(I=="/"&&K.eat("*")){J.tokenize=C;return C(K,J)}else{if(I=="<"&&K.eat("!")){J.tokenize=E;return E(K,J)}else{if(I=="="){H(null,"compare")}else{if((I=="~"||I=="|")&&K.eat("=")){return H(null,"compare")}else{if(I=='"'||I=="'"){J.tokenize=G(I);return J.tokenize(K,J)}else{if(I=="#"){K.eatWhile(/[\w\\\-]/);return H("atom","hash")}else{if(I=="!"){K.match(/^\s*\w*/);return H("keyword","important")}else{if(/\d/.test(I)){K.eatWhile(/[\w.%]/);return H("number","unit")}else{if(/[,.+>*\/]/.test(I)){return H(null,"select-op")}else{if(/[;{}:\[\]]/.test(I)){return H(null,I)}else{K.eatWhile(/[\w\\\-]/);return H("variable","variable")}}}}}}}}}}}}function C(L,J){var K=false,I;while((I=L.next())!=null){if(K&&I=="/"){J.tokenize=D;break}K=(I=="*")}return H("comment","comment")}function E(L,K){var I=0,J;while((J=L.next())!=null){if(I>=2&&J==">"){K.tokenize=D;break}I=(J=="-")?I+1:0}return H("comment","comment")}function G(I){return function(M,L){var J=false,K;while((K=M.next())!=null){if(K==I&&!J){break}J=!J&&K=="\\"}if(!J){L.tokenize=D}return H("string","string")}}return{startState:function(I){return{tokenize:D,baseIndent:I||0,stack:[]}},token:function(L,K){if(L.eatSpace()){return null}var J=K.tokenize(L,K);var I=K.stack[K.stack.length-1];if(F=="hash"&&I=="rule"){J="atom"}else{if(J=="variable"){if(I=="rule"){J="number"}else{if(!I||I=="@media{"){J="tag"}}}}if(I=="rule"&&/^[\{\};]$/.test(F)){K.stack.pop()}if(F=="{"){if(I=="@media"){K.stack[K.stack.length-1]="@media{"}else{K.stack.push("{")}}else{if(F=="}"){K.stack.pop()}else{if(F=="@media"){K.stack.push("@media")}else{if(I=="{"&&F!="comment"){K.stack.push("rule")}}}}return J},indent:function(K,I){var J=K.stack.length;if(/^\}/.test(I)){J-=K.stack[K.stack.length-1]=="rule"?2:1}return K.baseIndent+J*B},electricChars:"}"}});CodeMirror.defineMIME("text/css","css");CodeMirror.defineMode("htmlmixed",function(B,A){var E=CodeMirror.getMode(B,{name:"xml",htmlMode:true});var F=CodeMirror.getMode(B,"javascript");var C=CodeMirror.getMode(B,"css");function I(L,K){var J=E.token(L,K.htmlState);if(J=="tag"&&L.current()==">"&&K.htmlState.context){if(/^script$/i.test(K.htmlState.context.tagName)){K.token=H;K.localState=F.startState(E.indent(K.htmlState,""));K.mode="javascript"}else{if(/^style$/i.test(K.htmlState.context.tagName)){K.token=D;K.localState=C.startState(E.indent(K.htmlState,""));K.mode="css"}}}return J}function G(N,K,L){var J=N.current();var M=J.search(K);if(M>-1){N.backUp(J.length-M)}return L}function H(K,J){if(K.match(/^<\/\s*script\s*>/i,false)){J.token=I;J.curState=null;J.mode="html";return I(K,J)}return G(K,/<\/\s*script\s*>/,F.token(K,J.localState))}function D(K,J){if(K.match(/^<\/\s*style\s*>/i,false)){J.token=I;J.localState=null;J.mode="html";return I(K,J)}return G(K,/<\/\s*style\s*>/,C.token(K,J.localState))}return{startState:function(){var J=E.startState();return{token:I,localState:null,mode:"html",htmlState:J}},copyState:function(K){if(K.localState){var J=CodeMirror.copyState(K.token==D?C:F,K.localState)}return{token:K.token,localState:J,mode:K.mode,htmlState:CodeMirror.copyState(E,K.htmlState)}},token:function(K,J){return J.token(K,J)},indent:function(K,J){if(K.token==I||/^\s*<\//.test(J)){return E.indent(K.htmlState,J)}else{if(K.token==H){return F.indent(K.localState,J)}else{return C.indent(K.localState,J)}}},compareStates:function(K,J){return E.compareStates(K.htmlState,J.htmlState)},electricChars:"/{}:"}});CodeMirror.defineMIME("text/html","htmlmixed");