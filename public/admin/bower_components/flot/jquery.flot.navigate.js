(function(F){function A(J){var M,L=this,K=J.data||{};if(K.elem){L=J.dragTarget=K.elem,J.dragProxy=I.proxy||L,J.cursorOffsetX=K.pageX-K.left,J.cursorOffsetY=K.pageY-K.top,J.offsetX=J.pageX-J.cursorOffsetX,J.offsetY=J.pageY-J.cursorOffsetY}else{if(I.dragging||K.which>0&&J.which!=K.which||F(J.target).is(K.not)){return}}switch(J.type){case"mousedown":return F.extend(K,F(L).offset(),{elem:L,target:J.target,pageX:J.pageX,pageY:J.pageY}),D.add(document,"mousemove mouseup",A,K),C(L,!1),I.dragging=null,!1;case !I.dragging&&"mousemove":if(H(J.pageX-K.pageX)+H(J.pageY-K.pageY)<K.distance){break}J.target=K.target,M=G(J,"dragstart",L),M!==!1&&(I.dragging=L,I.proxy=J.dragProxy=F(M||L)[0]);case"mousemove":if(I.dragging){if(M=G(J,"drag",L),E.drop&&(E.drop.allowed=M!==!1,E.drop.handler(J)),M!==!1){break}J.type="mouseup"}case"mouseup":D.remove(document,"mousemove mouseup",A),I.dragging&&(E.drop&&E.drop.handler(J),G(J,"dragend",L)),C(L,!0),I.dragging=I.proxy=K.elem=!1}return !0}function G(L,M,J){L.type=M;var K=F.event.dispatch.call(J,L);return K===!1?!1:K||L.result}function H(J){return Math.pow(J,2)}function B(){return I.dragging===!1}function C(K,J){K&&(K.unselectable=J?"off":"on",K.onselectstart=function(){return J},K.style&&(K.style.MozUserSelect=J?"":"none"))}F.fn.drag=function(L,J,K){return J&&this.bind("dragstart",L),K&&this.bind("dragend",K),L?this.bind("drag",J?J:L):this.trigger("drag")};var D=F.event,E=D.special,I=E.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(J){J=F.extend({distance:I.distance,which:I.which,not:I.not},J||{}),J.distance=H(J.distance),D.add(this,"mousedown",A,J),this.attachEvent&&this.attachEvent("ondragstart",B)},teardown:function(){D.remove(this,"mousedown",A),this===I.dragging&&(I.dragging=I.proxy=!1),C(this,!0),this.detachEvent&&this.detachEvent("ondragstart",B)}};E.dragstart=E.dragend={setup:function(){},teardown:function(){}}})(jQuery);(function(B){function C(I){var G=I||window.event,H=[].slice.call(arguments,1),J=0,F=0,E=0,I=B.event.fix(G);I.type="mousewheel";G.wheelDelta&&(J=G.wheelDelta/120);G.detail&&(J=-G.detail/3);E=J;void 0!==G.axis&&G.axis===G.HORIZONTAL_AXIS&&(E=0,F=-1*J);void 0!==G.wheelDeltaY&&(E=G.wheelDeltaY/120);void 0!==G.wheelDeltaX&&(F=-1*G.wheelDeltaX/120);H.unshift(I,J,F,E);return(B.event.dispatch||B.event.handle).apply(this,H)}var D=["DOMMouseScroll","mousewheel"];if(B.event.fixHooks){for(var A=D.length;A;){B.event.fixHooks[D[--A]]=B.event.mouseHooks}}B.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var E=D.length;E;){this.addEventListener(D[--E],C,!1)}}else{this.onmousewheel=C}},teardown:function(){if(this.removeEventListener){for(var E=D.length;E;){this.removeEventListener(D[--E],C,!1)}}else{this.onmousewheel=null}}};B.fn.extend({mousewheel:function(E){return E?this.bind("mousewheel",E):this.trigger("mousewheel")},unmousewheel:function(E){return this.unbind("mousewheel",E)}})})(jQuery);(function(C){var A={xaxis:{zoomRange:null,panRange:null},zoom:{interactive:false,trigger:"dblclick",amount:1.5},pan:{interactive:false,cursor:"move",frameRate:20}};function B(E){function I(P,Q){var R=E.offset();R.left=P.pageX-R.left;R.top=P.pageY-R.top;if(Q){E.zoomOut({center:R})}else{E.zoom({center:R})}}function N(Q,P){Q.preventDefault();I(Q,P<0);return false}var G="default",F=0,D=0,J=null;function O(P){if(P.which!=1){return false}var Q=E.getPlaceholder().css("cursor");if(Q){G=Q}E.getPlaceholder().css("cursor",E.getOptions().pan.cursor);F=P.pageX;D=P.pageY}function M(P){var Q=E.getOptions().pan.frameRate;if(J||!Q){return}J=setTimeout(function(){E.pan({left:F-P.pageX,top:D-P.pageY});F=P.pageX;D=P.pageY;J=null},1/Q*1000)}function L(P){if(J){clearTimeout(J);J=null}E.getPlaceholder().css("cursor",G);E.pan({left:F-P.pageX,top:D-P.pageY})}function K(R,Q){var P=R.getOptions();if(P.zoom.interactive){Q[P.zoom.trigger](I);Q.mousewheel(N)}if(P.pan.interactive){Q.bind("dragstart",{distance:10},O);Q.bind("drag",M);Q.bind("dragend",L)}}E.zoomOut=function(P){if(!P){P={}}if(!P.amount){P.amount=E.getOptions().zoom.amount}P.amount=1/P.amount;E.zoom(P)};E.zoom=function(P){if(!P){P={}}var U=P.center,R=P.amount||E.getOptions().zoom.amount,Q=E.width(),S=E.height();if(!U){U={left:Q/2,top:S/2}}var V=U.left/Q,W=U.top/S,T={x:{min:U.left-V*Q/R,max:U.left+(1-V)*Q/R},y:{min:U.top-W*S/R,max:U.top+(1-W)*S/R}};C.each(E.getAxes(),function(c,X){var d=X.options,Z=T[X.direction].min,a=T[X.direction].max,Y=d.zoomRange,e=d.panRange;if(Y===false){return}Z=X.c2p(Z);a=X.c2p(a);if(Z>a){var b=Z;Z=a;a=b}if(e){if(e[0]!=null&&Z<e[0]){Z=e[0]}if(e[1]!=null&&a>e[1]){a=e[1]}}var f=a-Z;if(Y&&((Y[0]!=null&&f<Y[0]&&R>1)||(Y[1]!=null&&f>Y[1]&&R<1))){return}d.min=Z;d.max=a});E.setupGrid();E.draw();if(!P.preventEvent){E.getPlaceholder().trigger("plotzoom",[E,P])}};E.pan=function(Q){var P={x:+Q.left,y:+Q.top};if(isNaN(P.x)){P.x=0}if(isNaN(P.y)){P.y=0}C.each(E.getAxes(),function(X,W){var T=W.options,R,V,S=P[W.direction];R=W.c2p(W.p2c(W.min)+S),V=W.c2p(W.p2c(W.max)+S);var U=T.panRange;if(U===false){return}if(U){if(U[0]!=null&&U[0]>R){S=U[0]-R;R+=S;V+=S}if(U[1]!=null&&U[1]<V){S=U[1]-V;R+=S;V+=S}}T.min=R;T.max=V});E.setupGrid();E.draw();if(!Q.preventEvent){E.getPlaceholder().trigger("plotpan",[E,Q])}};function H(Q,P){P.unbind(Q.getOptions().zoom.trigger,I);P.unbind("mousewheel",N);P.unbind("dragstart",O);P.unbind("drag",M);P.unbind("dragend",L);if(J){clearTimeout(J)}}E.hooks.bindEvents.push(K);E.hooks.shutdown.push(H)}C.plot.plugins.push({init:B,options:A,name:"navigate",version:"1.3"})})(jQuery);