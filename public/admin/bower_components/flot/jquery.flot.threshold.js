(function(C){var A={series:{threshold:null}};function B(E){function F(L,T,U,G,K){var H=U.pointsize,M,V,W,I,J,S=C.extend({},T);S.datapoints={points:[],pointsize:H,format:U.format};S.label=null;S.color=K;S.threshold=null;S.originSeries=T;S.data=[];var R=U.points,P=T.lines.show;var O=[];var X=[];var N;for(M=0;M<R.length;M+=H){V=R[M];W=R[M+1];J=I;if(W<G){I=O}else{I=X}if(P&&J!=I&&V!=null&&M>0&&R[M-H]!=null){var Y=V+(G-W)*(V-R[M-H])/(W-R[M-H+1]);J.push(Y);J.push(G);for(N=2;N<H;++N){J.push(R[M+N])}I.push(null);I.push(null);for(N=2;N<H;++N){I.push(R[M+N])}I.push(Y);I.push(G);for(N=2;N<H;++N){I.push(R[M+N])}}I.push(V);I.push(W);for(N=2;N<H;++N){I.push(R[M+N])}}U.points=X;S.datapoints.points=O;if(S.datapoints.points.length>0){var Q=C.inArray(T,L.getData());L.getData().splice(Q+1,0,S)}}function D(I,G,H){if(!G.threshold){return}if(G.threshold instanceof Array){G.threshold.sort(function(K,J){return K.below-J.below});C(G.threshold).each(function(J,K){F(I,G,H,K.below,K.color)})}else{F(I,G,H,G.threshold.below,G.threshold.color)}}E.hooks.processDatapoints.push(D)}C.plot.plugins.push({init:B,options:A,name:"threshold",version:"1.2"})})(jQuery);