(function(E){var B={series:{images:{show:false,alpha:1,anchor:"corner"}}};E.plot.image={};E.plot.image.loadDataImages=function(J,I,F){var K=[],H=[];var G=I.series.images.show;E.each(J,function(L,M){if(!(G||M.images.show)){return}if(M.data){M=M.data}E.each(M,function(N,O){if(typeof O[0]=="string"){K.push(O[0]);H.push(O)}})});E.plot.image.load(K,function(L){E.each(H,function(M,O){var N=O[0];if(L[N]){O[0]=L[N]}});F()})};E.plot.image.load=function(H,F){var G=H.length,I={};if(G==0){F({})}E.each(H,function(J,K){var L=function(){--G;I[K]=this;if(G==0){F(I)}};E("<img />").load(L).error(L).attr("src",K)})};function C(H,V,O){var M=H.getPlotOffset();if(!O.images||!O.images.show){return}var N=O.datapoints.points,F=O.datapoints.pointsize;for(var I=0;I<N.length;I+=F){var T=N[I],Q=N[I+1],R=N[I+2],P=N[I+3],W=N[I+4],U=O.xaxis,K=O.yaxis,G;if(!T||T.width<=0||T.height<=0){continue}if(Q>P){G=P;P=Q;Q=G}if(R>W){G=W;W=R;R=G}if(O.images.anchor=="center"){G=0.5*(P-Q)/(T.width-1);Q-=G;P+=G;G=0.5*(W-R)/(T.height-1);R-=G;W+=G}if(Q==P||R==W||Q>=U.max||P<=U.min||R>=K.max||W<=K.min){continue}var J=0,X=0,L=T.width,S=T.height;if(Q<U.min){J+=(L-J)*(U.min-Q)/(P-Q);Q=U.min}if(P>U.max){L+=(L-J)*(U.max-P)/(P-Q);P=U.max}if(R<K.min){S+=(X-S)*(K.min-R)/(W-R);R=K.min}if(W>K.max){X+=(X-S)*(K.max-W)/(W-R);W=K.max}Q=U.p2c(Q);P=U.p2c(P);R=K.p2c(R);W=K.p2c(W);if(Q>P){G=P;P=Q;Q=G}if(R>W){G=W;W=R;R=G}G=V.globalAlpha;V.globalAlpha*=O.images.alpha;V.drawImage(T,J,X,L-J,S-X,Q+M.left,R+M.top,P-Q,W-R);V.globalAlpha=G}}function A(G,H,I,F){if(!H.images.show){return}F.format=[{required:true},{x:true,number:true,required:true},{y:true,number:true,required:true},{x:true,number:true,required:true},{y:true,number:true,required:true}]}function D(F){F.hooks.processRawData.push(A);F.hooks.drawSeries.push(C)}E.plot.plugins.push({init:D,options:B,name:"image",version:"1.1"})})(jQuery);