define(["./core","./manipulation/var/rcheckableType","./core/init","./traversing","./attributes/prop"],function(H,B){var A=/%20/g,C=/\[\]$/,G=/\r?\n/g,D=/^(?:submit|button|image|reset|file)$/i,F=/^(?:input|select|textarea|keygen)/i;function E(J,I,K,M){var L;if(H.isArray(I)){H.each(I,function(N,O){if(K||C.test(J)){M(J,O)}else{E(J+"["+(typeof O==="object"?N:"")+"]",O,K,M)}})}else{if(!K&&H.type(I)==="object"){for(L in I){E(J+"["+L+"]",I[L],K,M)}}else{M(J,I)}}}H.param=function(M,K){var J,I=[],L=function(N,O){O=H.isFunction(O)?O():(O==null?"":O);I[I.length]=encodeURIComponent(N)+"="+encodeURIComponent(O)};if(K===undefined){K=H.ajaxSettings&&H.ajaxSettings.traditional}if(H.isArray(M)||(M.jquery&&!H.isPlainObject(M))){H.each(M,function(){L(this.name,this.value)})}else{for(J in M){E(J,M[J],K,L)}}return I.join("&").replace(A,"+")};H.fn.extend({serialize:function(){return H.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var I=H.prop(this,"elements");return I?H.makeArray(I):this}).filter(function(){var I=this.type;return this.name&&!H(this).is(":disabled")&&F.test(this.nodeName)&&!D.test(I)&&(this.checked||!B.test(I))}).map(function(I,J){var K=H(this).val();return K==null?null:H.isArray(K)?H.map(K,function(L){return{name:J.name,value:L.replace(G,"\r\n")}}):{name:J.name,value:K.replace(G,"\r\n")}}).get()}});return H});