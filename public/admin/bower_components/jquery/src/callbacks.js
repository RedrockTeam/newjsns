define(["./core","./var/rnotwhite"],function(D,C){var B={};function A(F){var E=B[F]={};D.each(F.match(C)||[],function(H,G){E[G]=true});return E}D.Callbacks=function(K){K=typeof K==="string"?(B[K]||A(K)):D.extend({},K);var E,G,J,I,H,N,O=[],L=!K.once&&[],F=function(P){E=K.memory&&P;G=true;N=I||0;I=0;H=O.length;J=true;for(;O&&N<H;N++){if(O[N].apply(P[0],P[1])===false&&K.stopOnFalse){E=false;break}}J=false;if(O){if(L){if(L.length){F(L.shift())}}else{if(E){O=[]}else{M.disable()}}}},M={add:function(){if(O){var Q=O.length;(function P(R){D.each(R,function(U,T){var S=D.type(T);if(S==="function"){if(!K.unique||!M.has(T)){O.push(T)}}else{if(T&&T.length&&S!=="string"){P(T)}}})})(arguments);if(J){H=O.length}else{if(E){I=Q;F(E)}}}return this},remove:function(){if(O){D.each(arguments,function(R,P){var Q;while((Q=D.inArray(P,O,Q))>-1){O.splice(Q,1);if(J){if(Q<=H){H--}if(Q<=N){N--}}}})}return this},has:function(P){return P?D.inArray(P,O)>-1:!!(O&&O.length)},empty:function(){O=[];H=0;return this},disable:function(){O=L=E=undefined;return this},disabled:function(){return !O},lock:function(){L=undefined;if(!E){M.disable()}return this},locked:function(){return !L},fireWith:function(P,Q){if(O&&(!G||L)){Q=Q||[];Q=[P,Q.slice?Q.slice():Q];if(J){L.push(Q)}else{F(Q)}}return this},fire:function(){M.fireWith(this,arguments);return this},fired:function(){return !!G}};return M};return D});