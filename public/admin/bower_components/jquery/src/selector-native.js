define(["./core"],function(E){var A=window.document.documentElement,D,B=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector,C=function(H,G){if(H===G){D=true;return 0}var F=G.compareDocumentPosition&&H.compareDocumentPosition&&H.compareDocumentPosition(G);if(F){if(F&1){if(H===document||E.contains(document,H)){return -1}if(G===document||E.contains(document,G)){return 1}return 0}return F&4?-1:1}return H.compareDocumentPosition?-1:1};E.extend({find:function(K,F,G,J){var I,L,H=0;G=G||[];F=F||document;if(!K||typeof K!=="string"){return G}if((L=F.nodeType)!==1&&L!==9){return[]}if(J){while((I=J[H++])){if(E.find.matchesSelector(I,K)){G.push(I)}}}else{E.merge(G,F.querySelectorAll(K))}return G},unique:function(I){var H,F=[],G=0,J=0;D=false;I.sort(C);if(D){while((H=I[G++])){if(H===I[G]){J=F.push(G)}}while(J--){I.splice(F[J],1)}}return I},text:function(H){var G,I="",F=0,J=H.nodeType;if(!J){while((G=H[F++])){I+=E.text(G)}}else{if(J===1||J===9||J===11){return H.textContent}else{if(J===3||J===4){return H.nodeValue}}}return I},contains:function(I,F){var H=I.nodeType===9?I.documentElement:I,G=F&&F.parentNode;return I===G||!!(G&&G.nodeType===1&&H.contains(G))},isXMLDoc:function(F){return(F.ownerDocument||F).documentElement.nodeName!=="HTML"},expr:{attrHandle:{},match:{bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]/}}});E.extend(E.find,{matches:function(F,G){return E.find(F,null,null,G)},matchesSelector:function(G,F){return B.call(G,F)},attr:function(F,G){return F.getAttribute(G)}})});