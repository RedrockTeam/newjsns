define(["./core","./var/rnotwhite","./core/access","./data/var/data_priv","./data/var/data_user"],function(H,E,A,D,C){var B=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,G=/([A-Z])/g;function F(K,I,M){var L;if(M===undefined&&K.nodeType===1){L="data-"+I.replace(G,"-$1").toLowerCase();M=K.getAttribute(L);if(typeof M==="string"){try{M=M==="true"?true:M==="false"?false:M==="null"?null:+M+""===M?+M:B.test(M)?H.parseJSON(M):M}catch(J){}C.set(K,I,M)}else{M=undefined}}return M}H.extend({hasData:function(I){return C.hasData(I)||D.hasData(I)},data:function(I,J,K){return C.access(I,J,K)},removeData:function(I,J){C.remove(I,J)},_data:function(I,J,K){return D.access(I,J,K)},_removeData:function(I,J){D.remove(I,J)}});H.fn.extend({data:function(I,N){var J,L,O,K=this[0],M=K&&K.attributes;if(I===undefined){if(this.length){O=C.get(K);if(K.nodeType===1&&!D.get(K,"hasDataAttrs")){J=M.length;while(J--){if(M[J]){L=M[J].name;if(L.indexOf("data-")===0){L=H.camelCase(L.slice(5));F(K,L,O[L])}}}D.set(K,"hasDataAttrs",true)}}return O}if(typeof I==="object"){return this.each(function(){C.set(this,I)})}return A(this,function(P){var R,Q=H.camelCase(I);if(K&&P===undefined){R=C.get(K,I);if(R!==undefined){return R}R=C.get(K,Q);if(R!==undefined){return R}R=F(K,Q,undefined);if(R!==undefined){return R}return}this.each(function(){var S=C.get(this,Q);C.set(this,Q,P);if(I.indexOf("-")!==-1&&S!==undefined){C.set(this,I,P)}})},null,N,arguments.length>1,null,true)},removeData:function(I){return this.each(function(){C.remove(this,I)})}});return H});