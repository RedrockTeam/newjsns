define(["./core","./var/concat","./var/push","./core/access","./manipulation/var/rcheckableType","./manipulation/support","./data/var/data_priv","./data/var/data_user","./core/init","./data/accepts","./traversing","./selector","./event"],function(X,H,U,C,A,G,W,F){var N=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Q=/<([\w:]+)/,J=/<|&#?\w+;/,K=/<(?:script|style|link)/i,V=/checked\s*(?:[^=]|=\s*.checked.)/i,S=/^$|\/(?:java|ecma)script/i,L=/^true\/(.*)/,B=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,R={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};R.optgroup=R.option;R.tbody=R.tfoot=R.colgroup=R.caption=R.thead;R.th=R.td;function E(Y,Z){return X.nodeName(Y,"table")&&X.nodeName(Z.nodeType!==11?Z:Z.firstChild,"tr")?Y.getElementsByTagName("tbody")[0]||Y.appendChild(Y.ownerDocument.createElement("tbody")):Y}function M(Y){Y.type=(Y.getAttribute("type")!==null)+"/"+Y.type;return Y}function T(Z){var Y=L.exec(Z.type);if(Y){Z.type=Y[1]}else{Z.removeAttribute("type")}return Z}function D(Z,a){var Y=0,b=Z.length;for(;Y<b;Y++){W.set(Z[Y],"globalEval",!a||W.get(a[Y],"globalEval"))}}function P(Z,c){var d,e,f,h,g,a,Y,b;if(c.nodeType!==1){return}if(W.hasData(Z)){h=W.access(Z);g=W.set(c,h);b=h.events;if(b){delete g.handle;g.events={};for(f in b){for(d=0,e=b[f].length;d<e;d++){X.event.add(c,f,b[f][d])}}}}if(F.hasData(Z)){a=F.access(Z);Y=X.extend({},a);F.set(c,Y)}}function O(Z,Y){var a=Z.getElementsByTagName?Z.getElementsByTagName(Y||"*"):Z.querySelectorAll?Z.querySelectorAll(Y||"*"):[];return Y===undefined||Y&&X.nodeName(Z,Y)?X.merge([Z],a):a}function I(Z,Y){var a=Y.nodeName.toLowerCase();if(a==="input"&&A.test(Z.type)){Y.checked=Z.checked}else{if(a==="input"||a==="textarea"){Y.defaultValue=Z.defaultValue}}}X.extend({clone:function(Z,Y,c){var d,f,g,b,a=Z.cloneNode(true),e=X.contains(Z.ownerDocument,Z);if(!G.noCloneChecked&&(Z.nodeType===1||Z.nodeType===11)&&!X.isXMLDoc(Z)){b=O(a);g=O(Z);for(d=0,f=g.length;d<f;d++){I(g[d],b[d])}}if(Y){if(c){g=g||O(Z);b=b||O(a);for(d=0,f=g.length;d<f;d++){P(g[d],b[d])}}else{P(Z,a)}}b=O(a,"script");if(b.length>0){D(b,!e&&O(Z,"script"))}return a},buildFragment:function(k,d,b,f){var Z,c,a,e,g,h,n=d.createDocumentFragment(),o=[],m=0,Y=k.length;for(;m<Y;m++){Z=k[m];if(Z||Z===0){if(X.type(Z)==="object"){X.merge(o,Z.nodeType?[Z]:Z)}else{if(!J.test(Z)){o.push(d.createTextNode(Z))}else{c=c||n.appendChild(d.createElement("div"));a=(Q.exec(Z)||["",""])[1].toLowerCase();e=R[a]||R._default;c.innerHTML=e[1]+Z.replace(N,"<$1></$2>")+e[2];h=e[0];while(h--){c=c.lastChild}X.merge(o,c.childNodes);c=n.firstChild;c.textContent=""}}}}n.textContent="";m=0;while((Z=o[m++])){if(f&&X.inArray(Z,f)!==-1){continue}g=X.contains(Z.ownerDocument,Z);c=O(n.appendChild(Z),"script");if(g){D(c)}if(b){h=0;while((Z=c[h++])){if(S.test(Z.type||"")){b.push(Z)}}}}return n},cleanData:function(c){var e,d,Y,Z,a=X.event.special,b=0;for(;(d=c[b])!==undefined;b++){if(X.acceptData(d)){Z=d[W.expando];if(Z&&(e=W.cache[Z])){if(e.events){for(Y in e.events){if(a[Y]){X.event.remove(d,Y)}else{X.removeEvent(d,Y,e.handle)}}}if(W.cache[Z]){delete W.cache[Z]}}}delete F.cache[d[F.expando]]}}});X.fn.extend({text:function(Y){return C(this,function(Z){return Z===undefined?X.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=Z}})},null,Y,arguments.length)},append:function(){return this.domManip(arguments,function(Y){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var Z=E(this,Y);Z.appendChild(Y)}})},prepend:function(){return this.domManip(arguments,function(Y){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var Z=E(this,Y);Z.insertBefore(Y,Z.firstChild)}})},before:function(){return this.domManip(arguments,function(Y){if(this.parentNode){this.parentNode.insertBefore(Y,this)}})},after:function(){return this.domManip(arguments,function(Y){if(this.parentNode){this.parentNode.insertBefore(Y,this.nextSibling)}})},remove:function(c,Z){var b,a=c?X.filter(c,this):this,Y=0;for(;(b=a[Y])!=null;Y++){if(!Z&&b.nodeType===1){X.cleanData(O(b))}if(b.parentNode){if(Z&&X.contains(b.ownerDocument,b)){D(O(b,"script"))}b.parentNode.removeChild(b)}}return this},empty:function(){var Z,Y=0;for(;(Z=this[Y])!=null;Y++){if(Z.nodeType===1){X.cleanData(O(Z,false));Z.textContent=""}}return this},clone:function(Z,Y){Z=Z==null?false:Z;Y=Y==null?Z:Y;return this.map(function(){return X.clone(this,Z,Y)})},html:function(Y){return C(this,function(d){var c=this[0]||{},Z=0,b=this.length;if(d===undefined&&c.nodeType===1){return c.innerHTML}if(typeof d==="string"&&!K.test(d)&&!R[(Q.exec(d)||["",""])[1].toLowerCase()]){d=d.replace(N,"<$1></$2>");try{for(;Z<b;Z++){c=this[Z]||{};if(c.nodeType===1){X.cleanData(O(c,false));c.innerHTML=d}}c=0}catch(a){}}if(c){this.empty().append(d)}},null,Y,arguments.length)},replaceWith:function(){var Y=arguments[0];this.domManip(arguments,function(Z){Y=this.parentNode;X.cleanData(O(this));if(Y){Y.replaceChild(Z,this)}});return Y&&(Y.length||Y.nodeType)?this:this.remove()},detach:function(Y){return this.remove(Y,true)},domManip:function(Y,Z){Y=H.apply([],Y);var m,a,c,g,h,j,f=0,k=this.length,n=this,b=k-1,e=Y[0],d=X.isFunction(e);if(d||(k>1&&typeof e==="string"&&!G.checkClone&&V.test(e))){return this.each(function(l){var i=n.eq(l);if(d){Y[0]=e.call(this,l,i.html())}i.domManip(Y,Z)})}if(k){m=X.buildFragment(Y,this[0].ownerDocument,false,this);a=m.firstChild;if(m.childNodes.length===1){m=a}if(a){c=X.map(O(m,"script"),M);g=c.length;for(;f<k;f++){h=m;if(f!==b){h=X.clone(h,true,true);if(g){X.merge(c,O(h,"script"))}}Z.call(this[f],h,f)}if(g){j=c[c.length-1].ownerDocument;X.map(c,T);for(f=0;f<g;f++){h=c[f];if(S.test(h.type||"")&&!W.access(h,"globalEval")&&X.contains(j,h)){if(h.src){if(X._evalUrl){X._evalUrl(h.src)}}else{X.globalEval(h.textContent.replace(B,""))}}}}}}return this}});X.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(Z,Y){X.fn[Z]=function(e){var c,d=[],a=X(e),f=a.length-1,b=0;for(;b<=f;b++){c=b===f?this:this.clone(true);X(a[b])[Y](c);U.apply(d,c.get())}return this.pushStack(d)}});return X});