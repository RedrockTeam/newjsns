define(["../core","./var/rsingleTag","../traversing/findFilter"],function(E,C){var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,D=E.fn.init=function(I,F){var G,H;if(!I){return this}if(typeof I==="string"){if(I[0]==="<"&&I[I.length-1]===">"&&I.length>=3){G=[null,I,null]}else{G=B.exec(I)}if(G&&(G[1]||!F)){if(G[1]){F=F instanceof E?F[0]:F;E.merge(this,E.parseHTML(G[1],F&&F.nodeType?F.ownerDocument||F:document,true));if(C.test(G[1])&&E.isPlainObject(F)){for(G in F){if(E.isFunction(this[G])){this[G](F[G])}else{this.attr(G,F[G])}}}return this}else{H=document.getElementById(G[2]);if(H&&H.parentNode){this.length=1;this[0]=H}this.context=document;this.selector=I;return this}}else{if(!F||F.jquery){return(F||A).find(I)}else{return this.constructor(F).find(I)}}}else{if(I.nodeType){this.context=this[0]=I;this.length=1;return this}else{if(E.isFunction(I)){return typeof A.ready!=="undefined"?A.ready(I):I(E)}}}if(I.selector!==undefined){this.selector=I.selector;this.context=I.context}return E.makeArray(I,this)};D.prototype=E.fn;A=E(document);return D});