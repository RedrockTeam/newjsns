define(["../core","../ajax"],function(A){A.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(B){A.globalEval(B);return B}}});A.ajaxPrefilter("script",function(B){if(B.cache===undefined){B.cache=false}if(B.crossDomain){B.type="GET"}});A.ajaxTransport("script",function(C){if(C.crossDomain){var D,B;return{send:function(F,E){D=A("<script>").prop({async:true,charset:C.scriptCharset,src:C.url}).on("load error",B=function(G){D.remove();B=null;if(G){E(G.type==="error"?404:200,G.type)}});document.head.appendChild(D[0])},abort:function(){if(B){B()}}}}})});