!function(I){function L(A){return RegExp("(^|\\s+)"+A+"(\\s+|$)")}function N(C,B){var A=M(C,B)?K:J;A(C,B)}var M,J,K;"classList" in document.documentElement?(M=function(B,A){return B.classList.contains(A)},J=function(B,A){B.classList.add(A)},K=function(B,A){B.classList.remove(A)}):(M=function(B,A){return L(A).test(B.className)},J=function(B,A){M(B,A)||(B.className=B.className+" "+A)},K=function(B,A){B.className=B.className.replace(L(A)," ")});var H={hasClass:M,addClass:J,removeClass:K,toggleClass:N,has:M,add:J,remove:K,toggle:N};"function"==typeof define&&define.amd?define(H):I.classie=H}(window),function(G){function J(A){var B=G.event;return B.target=B.target||B.srcElement||A,B}var L=document.documentElement,K=function(){};L.addEventListener?K=function(B,A,C){B.addEventListener(A,C,!1)}:L.attachEvent&&(K=function(C,B,A){C[B+A]=A.handleEvent?function(){var D=J(C);A.handleEvent.call(A,D)}:function(){var D=J(C);A.call(C,D)},C.attachEvent("on"+B,C[B+A])});var H=function(){};L.removeEventListener?H=function(B,A,C){B.removeEventListener(A,C,!1)}:L.detachEvent&&(H=function(D,B,C){D.detachEvent("on"+B,D[B+C]);try{delete D[B+C]}catch(A){D[B+C]=void 0}});var I={bind:K,unbind:H};"function"==typeof define&&define.amd?define(I):"object"==typeof exports?module.exports=I:G.eventie=I}(this),function(G){function J(A){"function"==typeof A&&(J.isReady?A():I.push(A))}function L(E){var B="readystatechange"===E.type&&"complete"!==H.readyState;if(!J.isReady&&!B){J.isReady=!0;for(var A=0,C=I.length;C>A;A++){var D=I[A];D()}}}function K(A){return A.bind(H,"DOMContentLoaded",L),A.bind(H,"readystatechange",L),A.bind(G,"load",L),J}var H=G.document,I=[];J.isReady=!1,"function"==typeof define&&define.amd?(J.isReady="function"==typeof requirejs,define(["eventie/eventie"],K)):G.docReady=K(G.eventie)}(this),function(E){function F(B){if(B){if("string"==typeof G[B]){return B}B=B.charAt(0).toUpperCase()+B.slice(1);for(var A,C=0,D=H.length;D>C;C++){if(A=H[C]+B,"string"==typeof G[A]){return A}}}}var H="Webkit Moz ms Ms O".split(" "),G=document.documentElement.style;"function"==typeof define&&define.amd?define(function(){return F}):"object"==typeof exports?module.exports=F:E.getStyleProperty=F}(window),function(){function G(){}function J(B,A){for(var C=B.length;C--;){if(B[C].listener===A){return C}}return -1}function L(A){return function(){return this[A].apply(this,arguments)}}var K=G.prototype,H=this,I=H.EventEmitter;K.getListeners=function(D){var B,C,A=this._getEvents();if(D instanceof RegExp){B={};for(C in A){A.hasOwnProperty(C)&&D.test(C)&&(B[C]=A[C])}}else{B=A[D]||(A[D]=[])}return B},K.flattenListeners=function(B){var A,C=[];for(A=0;B.length>A;A+=1){C.push(B[A].listener)}return C},K.getListenersAsObject=function(B){var A,C=this.getListeners(B);return C instanceof Array&&(A={},A[B]=C),A||C},K.addListener=function(A,B){var E,C=this.getListenersAsObject(A),D="object"==typeof B;for(E in C){C.hasOwnProperty(E)&&-1===J(C[E],B)&&C[E].push(D?B:{listener:B,once:!1})}return this},K.on=L("addListener"),K.addOnceListener=function(A,B){return this.addListener(A,{listener:B,once:!0})},K.once=L("addOnceListener"),K.defineEvent=function(A){return this.getListeners(A),this},K.defineEvents=function(A){for(var B=0;A.length>B;B+=1){this.defineEvent(A[B])}return this},K.removeListener=function(A,B){var E,C,D=this.getListenersAsObject(A);for(C in D){D.hasOwnProperty(C)&&(E=J(D[C],B),-1!==E&&D[C].splice(E,1))}return this},K.off=L("removeListener"),K.addListeners=function(A,B){return this.manipulateListeners(!1,A,B)},K.removeListeners=function(A,B){return this.manipulateListeners(!0,A,B)},K.manipulateListeners=function(E,B,C){var A,N,F=E?this.removeListener:this.addListener,D=E?this.removeListeners:this.addListeners;if("object"!=typeof B||B instanceof RegExp){for(A=C.length;A--;){F.call(this,B,C[A])}}else{for(A in B){B.hasOwnProperty(A)&&(N=B[A])&&("function"==typeof N?F.call(this,A,N):D.call(this,A,N))}}return this},K.removeEvent=function(D){var B,C=typeof D,A=this._getEvents();if("string"===C){delete A[D]}else{if(D instanceof RegExp){for(B in A){A.hasOwnProperty(B)&&D.test(B)&&delete A[B]}}else{delete this._events}}return this},K.removeAllListeners=L("removeEvent"),K.emitEvent=function(E,B){var C,A,N,F,D=this.getListenersAsObject(E);for(N in D){if(D.hasOwnProperty(N)){for(A=D[N].length;A--;){C=D[N][A],C.once===!0&&this.removeListener(E,C.listener),F=C.listener.apply(this,B||[]),F===this._getOnceReturnValue()&&this.removeListener(E,C.listener)}}}return this},K.trigger=L("emitEvent"),K.emit=function(A){var B=Array.prototype.slice.call(arguments,1);return this.emitEvent(A,B)},K.setOnceReturnValue=function(A){return this._onceReturnValue=A,this},K._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},K._getEvents=function(){return this._events||(this._events={})},G.noConflict=function(){return H.EventEmitter=I,G},"function"==typeof define&&define.amd?define(function(){return G}):"object"==typeof module&&module.exports?module.exports=G:this.EventEmitter=G}.call(this),function(C,D){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(B,A){return D(C,B,A)}):"object"==typeof exports?module.exports=D(C,require("eventEmitter"),require("eventie")):C.imagesLoaded=D(C,C.EventEmitter,C.eventie)}(this,function(a,Z,P){function Q(C,B){for(var A in B){C[A]=B[A]}return C}function b(A){return"[object Array]"===R.call(A)}function W(A){var C=[];if(b(A)){C=A}else{if("number"==typeof A.length){for(var B=0,D=A.length;D>B;B++){C.push(A[B])}}else{C.push(A)}}return C}function U(A,C,B){if(!(this instanceof U)){return new U(A,C)}"string"==typeof A&&(A=document.querySelectorAll(A)),this.elements=W(A),this.options=Q({},this.options),"function"==typeof C?B=C:Q(this.options,C),B&&this.on("always",B),this.getImages(),Y&&(this.jqDeferred=new Y.Deferred());var D=this;setTimeout(function(){D.check()})}function T(A){this.img=A}function X(A){this.src=A,O[A]=this}var Y=a.jQuery,S=a.console,V=void 0!==S,R=Object.prototype.toString;U.prototype=new Z(),U.prototype.options={},U.prototype.getImages=function(){this.images=[];for(var G=0,D=this.elements.length;D>G;G++){var C=this.elements[G];"IMG"===C.nodeName&&this.addImage(C);for(var E=C.querySelectorAll("img"),B=0,A=E.length;A>B;B++){var F=E[B];this.addImage(F)}}},U.prototype.addImage=function(B){var A=new T(B);this.images.push(A)},U.prototype.check=function(){function F(G,H){return D.options.debug&&V&&S.log("confirm",G,H),D.progress(G),C++,C===E&&D.complete(),!0}var D=this,C=0,E=this.images.length;if(this.hasAnyBroken=!1,!E){return void this.complete()}for(var B=0;E>B;B++){var A=this.images[B];A.on("confirm",F),A.check()}},U.prototype.progress=function(B){this.hasAnyBroken=this.hasAnyBroken||!B.isLoaded;var A=this;setTimeout(function(){A.emit("progress",A,B),A.jqDeferred&&A.jqDeferred.notify&&A.jqDeferred.notify(A,B)})},U.prototype.complete=function(){var B=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var A=this;setTimeout(function(){if(A.emit(B,A),A.emit("always",A),A.jqDeferred){var C=A.hasAnyBroken?"reject":"resolve";A.jqDeferred[C](A)}})},Y&&(Y.fn.imagesLoaded=function(C,B){var A=new U(this,C,B);return A.jqDeferred.promise(Y(this))}),T.prototype=new Z(),T.prototype.check=function(){var B=O[this.img.src]||new X(this.img.src);if(B.isConfirmed){return void this.confirm(B.isLoaded,"cached was confirmed")}if(this.img.complete&&void 0!==this.img.naturalWidth){return void this.confirm(0!==this.img.naturalWidth,"naturalWidth")}var A=this;B.on("confirm",function(C,D){return A.confirm(C.isLoaded,D),!0}),B.check()},T.prototype.confirm=function(B,A){this.isLoaded=B,this.emit("confirm",this,A)};var O={};return X.prototype=new Z(),X.prototype.check=function(){if(!this.isChecked){var A=new Image();P.bind(A,"load",this),P.bind(A,"error",this),A.src=this.src,this.isChecked=!0}},X.prototype.handleEvent=function(B){var A="on"+B.type;this[A]&&this[A](B)},X.prototype.onload=function(A){this.confirm(!0,"onload"),this.unbindProxyEvents(A)},X.prototype.onerror=function(A){this.confirm(!1,"onerror"),this.unbindProxyEvents(A)},X.prototype.confirm=function(B,A){this.isConfirmed=!0,this.isLoaded=B,this.emit("confirm",this,A)},X.prototype.unbindProxyEvents=function(A){P.unbind(A.target,"load",this),P.unbind(A.target,"error",this)},U}),function(E){function F(){}function H(B){function D(J){J.prototype.option||(J.prototype.option=function(I){B.isPlainObject(I)&&(this.options=B.extend(!0,this.options,I))})}function C(L,K){B.fn[L]=function(V){if("string"==typeof V){for(var U=G.call(arguments,1),T=0,S=this.length;S>T;T++){var I=this[T],R=B.data(I,L);if(R){if(B.isFunction(R[V])&&"_"!==V.charAt(0)){var J=R[V].apply(R,U);if(void 0!==J){return J}}else{A("no such method '"+V+"' for "+L+" instance")}}else{A("cannot call methods on "+L+" prior to initialization; attempted to call '"+V+"'")}}return this}return this.each(function(){var M=B.data(this,L);M?(M.option(V),M._init()):(M=new K(this,V),B.data(this,L,M))})}}if(B){var A="undefined"==typeof console?F:function(J){console.error(J)};return B.bridget=function(L,K){D(K),C(L,K)},B.bridget}}var G=Array.prototype.slice;"function"==typeof define&&define.amd?define(["jquery"],H):H(E.jQuery)}(window),function(I){function L(C){var B=parseFloat(C),A=-1===C.indexOf("%")&&!isNaN(B);return A&&B}function N(){for(var A={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},C=0,B=H.length;B>C;C++){var D=H[C];A[D]=0}return A}function M(E){function C(g){if("string"==typeof g&&(g=document.querySelector(g)),g&&"object"==typeof g&&g.nodeType){var k=K(g);if("none"===k.display){return N()}var f={};f.width=g.offsetWidth,f.height=g.offsetHeight;for(var m=f.isBorderBox=!(!B||!k[B]||"border-box"!==k[B]),s=0,G=H.length;G>s;s++){var n=H[s],b=k[n];b=D(g,b);var o=parseFloat(b);f[n]=isNaN(o)?0:o}var d=f.paddingLeft+f.paddingRight,c=f.paddingTop+f.paddingBottom,q=f.marginLeft+f.marginRight,l=f.marginTop+f.marginBottom,p=f.borderLeftWidth+f.borderRightWidth,r=f.borderTopWidth+f.borderBottomWidth,F=m&&A,S=L(k.width);S!==!1&&(f.width=S+(F?0:d+p));var t=L(k.height);return t!==!1&&(f.height=t+(F?0:c+r)),f.innerWidth=f.width-(d+p),f.innerHeight=f.height-(c+r),f.outerWidth=f.width+q,f.outerHeight=f.height+l,f}}function D(G,S){if(J||-1===S.indexOf("%")){return S}var V=G.style,T=V.left,F=G.runtimeStyle,U=F&&F.left;return U&&(F.left=G.currentStyle.left),V.left=S,S=V.pixelLeft,V.left=T,U&&(F.left=U),S}var A,B=E("boxSizing");return function(){if(B){var G=document.createElement("div");G.style.width="200px",G.style.padding="1px 2px 3px 4px",G.style.borderStyle="solid",G.style.borderWidth="1px 2px 3px 4px",G.style[B]="border-box";var P=document.body||document.documentElement;P.appendChild(G);var F=K(G);A=200===L(F.width),P.removeChild(G)}}(),C}var J=I.getComputedStyle,K=J?function(A){return J(A,null)}:function(A){return A.currentStyle},H=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define(["get-style-property/get-style-property"],M):"object"==typeof exports?module.exports=M(require("get-style-property")):I.getSize=M(I.getStyleProperty)}(window),function(R,N){function Q(B,A){return B[T](A)}function K(B){if(!B.parentNode){var A=document.createDocumentFragment();A.appendChild(B)}}function L(C,D){K(C);for(var A=C.parentNode.querySelectorAll(D),E=0,B=A.length;B>E;E++){if(A[E]===C){return !0}}return !1}function O(B,A){return K(B),Q(B,A)}var M,T=function(){if(N.matchesSelector){return"matchesSelector"}for(var C=["webkit","moz","ms","o"],A=0,D=C.length;D>A;A++){var E=C[A],B=E+"MatchesSelector";if(N[B]){return B}}}();if(T){var S=document.createElement("div"),P=Q(S,"div");M=P?Q:O}else{M=L}"function"==typeof define&&define.amd?define(function(){return M}):window.matchesSelector=M}(this,Element.prototype),function(I){function L(C,B){for(var A in B){C[A]=B[A]}return C}function N(B){for(var A in B){return !1}return A=null,!0}function M(A){return A.replace(/([A-Z])/g,function(B){return"-"+B.toLowerCase()})}function J(A,D,B){function X(P,O){P&&(this.element=P,this.layout=O,this.position={x:0,y:0},this._create())}var F=B("transition"),G=B("transform"),Z=F&&G,C=!!B("perspective"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[F],E=["transform","transition","transitionDuration","transitionProperty"],b=function(){for(var S={},Q=0,P=E.length;P>Q;Q++){var R=E[Q],O=B(R);O&&O!==R&&(S[R]=O)}return S}();L(X.prototype,A.prototype),X.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},X.prototype.handleEvent=function(P){var O="on"+P.type;this[O]&&this[O](P)},X.prototype.getSize=function(){this.size=D(this.element)},X.prototype.css=function(O){var Q=this.element.style;for(var P in O){var R=b[P]||P;Q[R]=O[P]}},X.prototype.getPosition=function(){var S=H(this.element),R=this.layout.options,Q=R.isOriginLeft,T=R.isOriginTop,P=parseInt(S[Q?"left":"right"],10),U=parseInt(S[T?"top":"bottom"],10);P=isNaN(P)?0:P,U=isNaN(U)?0:U;var O=this.layout.size;P-=Q?O.paddingLeft:O.paddingRight,U-=T?O.paddingTop:O.paddingBottom,this.position.x=P,this.position.y=U},X.prototype.layoutPosition=function(){var Q=this.layout.size,P=this.layout.options,O={};P.isOriginLeft?(O.left=this.position.x+Q.paddingLeft+"px",O.right=""):(O.right=this.position.x+Q.paddingRight+"px",O.left=""),P.isOriginTop?(O.top=this.position.y+Q.paddingTop+"px",O.bottom=""):(O.bottom=this.position.y+Q.paddingBottom+"px",O.top=""),this.css(O),this.emitEvent("layout",[this])};var Y=C?function(P,O){return"translate3d("+P+"px, "+O+"px, 0)"}:function(P,O){return"translate("+P+"px, "+O+"px)"};X.prototype._transitionTo=function(O,Q){this.getPosition();var e=this.position.x,h=this.position.y,P=parseInt(O,10),V=parseInt(Q,10),R=P===this.position.x&&V===this.position.y;if(this.setPosition(O,Q),R&&!this.isTransitioning){return void this.layoutPosition()}var T=O-e,U=Q-h,i={},S=this.layout.options;T=S.isOriginLeft?T:-T,U=S.isOriginTop?U:-U,i.transform=Y(T,U),this.transition({to:i,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},X.prototype.goTo=function(P,O){this.setPosition(P,O),this.layoutPosition()},X.prototype.moveTo=Z?X.prototype._transitionTo:X.prototype.goTo,X.prototype.setPosition=function(P,O){this.position.x=parseInt(P,10),this.position.y=parseInt(O,10)},X.prototype._nonTransition=function(P){this.css(P.to),P.isCleaning&&this._removeStyles(P.to);for(var O in P.onTransitionEnd){P.onTransitionEnd[O].call(this)}},X.prototype._transition=function(O){if(!parseFloat(this.layout.options.transitionDuration)){return void this._nonTransition(O)}var Q=this._transn;for(var P in O.onTransitionEnd){Q.onEnd[P]=O.onTransitionEnd[P]}for(P in O.to){Q.ingProperties[P]=!0,O.isCleaning&&(Q.clean[P]=!0)}if(O.from){this.css(O.from);var R=this.element.offsetHeight;R=null}this.enableTransition(O.to),this.css(O.to),this.isTransitioning=!0};var W=G&&M(G)+",opacity";X.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:W,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(a,this,!1))},X.prototype.transition=X.prototype[F?"_transition":"_nonTransition"],X.prototype.onwebkitTransitionEnd=function(O){this.ontransitionend(O)},X.prototype.onotransitionend=function(O){this.ontransitionend(O)};var c={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};X.prototype.ontransitionend=function(O){if(O.target===this.element){var Q=this._transn,P=c[O.propertyName]||O.propertyName;if(delete Q.ingProperties[P],N(Q.ingProperties)&&this.disableTransition(),P in Q.clean&&(this.element.style[O.propertyName]="",delete Q.clean[P]),P in Q.onEnd){var R=Q.onEnd[P];R.call(this),delete Q.onEnd[P]}this.emitEvent("transitionEnd",[this])}},X.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(a,this,!1),this.isTransitioning=!1},X.prototype._removeStyles=function(Q){var P={};for(var O in Q){P[O]=""}this.css(P)};var d={transitionProperty:"",transitionDuration:""};return X.prototype.removeTransitionStyles=function(){this.css(d)},X.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},X.prototype.remove=function(){if(!F||!parseFloat(this.layout.options.transitionDuration)){return void this.removeElem()}var O=this;this.on("transitionEnd",function(){return O.removeElem(),!0}),this.hide()},X.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var O=this.layout.options;this.transition({from:O.hiddenStyle,to:O.visibleStyle,isCleaning:!0})},X.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var O=this.layout.options;this.transition({from:O.visibleStyle,to:O.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},X.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},X}var K=I.getComputedStyle,H=K?function(A){return K(A,null)}:function(A){return A.currentStyle};"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],J):(I.Outlayer={},I.Outlayer.Item=J(I.EventEmitter,I.getSize,I.getStyleProperty))}(window),function(a){function Z(C,B){for(var A in B){C[A]=B[A]}return C}function P(A){return"[object Array]"===V.call(A)}function Q(A){var C=[];if(P(A)){C=A}else{if(A&&"number"==typeof A.length){for(var B=0,D=A.length;D>B;B++){C.push(A[B])}}else{C.push(A)}}return C}function b(C,B){var A=O(B,C);-1!==A&&B.splice(A,1)}function W(A){return A.replace(/(.)([A-Z])/g,function(B,D,C){return D+"-"+C}).toLowerCase()}function U(B,A,D,C,F,H){function I(J,K){if("string"==typeof J&&(J=T.querySelector(J)),!J||!R(J)){return void (X&&X.error("Bad "+this.constructor.namespace+" element: "+J))}this.element=J,this.options=Z({},this.constructor.defaults),this.option(K);var L=++G;this.element.outlayerGUID=L,E[L]=this,this._create(),this.options.isInitLayout&&this.layout()}var G=0,E={};return I.namespace="outlayer",I.Item=H,I.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},Z(I.prototype,D.prototype),I.prototype.option=function(J){Z(this.options,J)},I.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),Z(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},I.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},I.prototype._itemize=function(M){for(var J=this._filterFindItemElements(M),N=this.constructor.Item,i=[],e=0,K=J.length;K>e;e++){var L=J[e],h=new N(L,this);i.push(h)}return i},I.prototype._filterFindItemElements=function(N){N=Q(N);for(var J=this.options.itemSelector,h=[],i=0,M=N.length;M>i;i++){var L=N[i];if(R(L)){if(J){F(L,J)&&h.push(L);for(var K=L.querySelectorAll(J),e=0,k=K.length;k>e;e++){h.push(K[e])}}else{h.push(L)}}}return h},I.prototype.getItemElements=function(){for(var J=[],L=0,K=this.items.length;K>L;L++){J.push(this.items[L].element)}return J},I.prototype.layout=function(){this._resetLayout(),this._manageStamps();var J=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,J),this._isLayoutInited=!0},I.prototype._init=I.prototype.layout,I.prototype._resetLayout=function(){this.getSize()},I.prototype.getSize=function(){this.size=C(this.element)},I.prototype._getMeasurement=function(M,L){var K,J=this.options[M];J?("string"==typeof J?K=this.element.querySelector(J):R(J)&&(K=J),this[M]=K?C(K)[L]:J):this[M]=0},I.prototype.layoutItems=function(K,J){K=this._getItemsForLayout(K),this._layoutItems(K,J),this._postLayout()},I.prototype._getItemsForLayout=function(K){for(var M=[],L=0,J=K.length;J>L;L++){var N=K[L];N.isIgnored||M.push(N)}return M},I.prototype._layoutItems=function(N,J){function k(){i.emitEvent("layoutComplete",[i,N])}var i=this;if(!N||!N.length){return void k()}this._itemsOn(N,"layout",k);for(var j=[],K=0,L=N.length;L>K;K++){var M=N[K],e=this._getItemLayoutPosition(M);e.item=M,e.isInstant=J||M.isLayoutInstant,j.push(e)}this._processLayoutQueue(j)},I.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},I.prototype._processLayoutQueue=function(M){for(var L=0,K=M.length;K>L;L++){var J=M[L];this._positionItem(J.item,J.x,J.y,J.isInstant)}},I.prototype._positionItem=function(M,L,K,J){J?M.goTo(L,K):M.moveTo(L,K)},I.prototype._postLayout=function(){this.resizeContainer()},I.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var J=this._getContainerSize();J&&(this._setContainerMeasure(J.width,!0),this._setContainerMeasure(J.height,!1))}},I.prototype._getContainerSize=S,I.prototype._setContainerMeasure=function(J,L){if(void 0!==J){var K=this.size;K.isBorderBox&&(J+=L?K.paddingLeft+K.paddingRight+K.borderLeftWidth+K.borderRightWidth:K.paddingBottom+K.paddingTop+K.borderTopWidth+K.borderBottomWidth),J=Math.max(J,0),this.element.style[L?"width":"height"]=J+"px"}},I.prototype._itemsOn=function(e,J,i){function l(){return K++,K===M&&i.call(L),!0}for(var K=0,M=e.length,L=this,N=0,h=e.length;h>N;N++){var m=e[N];m.on(J,l)}},I.prototype.ignore=function(K){var J=this.getItem(K);J&&(J.isIgnored=!0)},I.prototype.unignore=function(K){var J=this.getItem(K);J&&delete J.isIgnored},I.prototype.stamp=function(M){if(M=this._find(M)){this.stamps=this.stamps.concat(M);for(var L=0,K=M.length;K>L;L++){var J=M[L];this.ignore(J)}}},I.prototype.unstamp=function(M){if(M=this._find(M)){for(var L=0,K=M.length;K>L;L++){var J=M[L];b(J,this.stamps),this.unignore(J)}}},I.prototype._find=function(J){return J?("string"==typeof J&&(J=this.element.querySelectorAll(J)),J=Q(J)):void 0},I.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var J=0,L=this.stamps.length;L>J;J++){var K=this.stamps[J];this._manageStamp(K)}}},I.prototype._getBoundingRect=function(){var K=this.element.getBoundingClientRect(),J=this.size;this._boundingRect={left:K.left+J.paddingLeft+J.borderLeftWidth,top:K.top+J.paddingTop+J.borderTopWidth,right:K.right-(J.paddingRight+J.borderRightWidth),bottom:K.bottom-(J.paddingBottom+J.borderBottomWidth)}},I.prototype._manageStamp=S,I.prototype._getElementOffset=function(K){var M=K.getBoundingClientRect(),L=this._boundingRect,J=C(K),N={left:M.left-L.left-J.marginLeft,top:M.top-L.top-J.marginTop,right:L.right-M.right-J.marginRight,bottom:L.bottom-M.bottom-J.marginBottom};return N},I.prototype.handleEvent=function(K){var J="on"+K.type;this[J]&&this[J](K)},I.prototype.bindResize=function(){this.isResizeBound||(B.bind(a,"resize",this),this.isResizeBound=!0)},I.prototype.unbindResize=function(){this.isResizeBound&&B.unbind(a,"resize",this),this.isResizeBound=!1},I.prototype.onresize=function(){function K(){J.resize(),delete J.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var J=this;this.resizeTimeout=setTimeout(K,100)},I.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},I.prototype.needsResizeLayout=function(){var K=C(this.element),J=this.size&&K;return J&&K.innerWidth!==this.size.innerWidth},I.prototype.addItems=function(K){var J=this._itemize(K);return J.length&&(this.items=this.items.concat(J)),J},I.prototype.appended=function(K){var J=this.addItems(K);J.length&&(this.layoutItems(J,!0),this.reveal(J))},I.prototype.prepended=function(J){var L=this._itemize(J);if(L.length){var K=this.items.slice(0);this.items=L.concat(K),this._resetLayout(),this._manageStamps(),this.layoutItems(L,!0),this.reveal(L),this.layoutItems(K)}},I.prototype.reveal=function(M){var L=M&&M.length;if(L){for(var K=0;L>K;K++){var J=M[K];J.reveal()}}},I.prototype.hide=function(M){var L=M&&M.length;if(L){for(var K=0;L>K;K++){var J=M[K];J.hide()}}},I.prototype.getItem=function(M){for(var L=0,K=this.items.length;K>L;L++){var J=this.items[L];if(J.element===M){return J}}},I.prototype.getItems=function(L){if(L&&L.length){for(var M=[],K=0,J=L.length;J>K;K++){var N=L[K],d=this.getItem(N);d&&M.push(d)}return M}},I.prototype.remove=function(K){K=Q(K);var M=this.getItems(K);if(M&&M.length){this._itemsOn(M,"remove",function(){this.emitEvent("removeComplete",[this,M])});for(var L=0,J=M.length;J>L;L++){var N=M[L];N.remove(),b(N,this.items)}}},I.prototype.destroy=function(){var M=this.element.style;M.height="",M.position="",M.width="";for(var L=0,K=this.items.length;K>L;L++){var J=this.items[L];J.destroy()}this.unbindResize(),delete this.element.outlayerGUID,Y&&Y.removeData(this.element,this.constructor.namespace)},I.data=function(K){var J=K&&K.outlayerGUID;return J&&E[J]},I.create=function(J,K){function L(){I.apply(this,arguments)}return Object.create?L.prototype=Object.create(I.prototype):Z(L.prototype,I.prototype),L.prototype.constructor=L,L.defaults=Z({},I.defaults),Z(L.defaults,K),L.prototype.settings={},L.namespace=J,L.data=I.data,L.Item=function(){H.apply(this,arguments)},L.Item.prototype=new H(),A(function(){for(var m=W(J),f=T.querySelectorAll(".js-"+m),d="data-"+m+"-options",l=0,N=f.length;N>l;l++){var o,c=f[l],e=c.getAttribute(d);try{o=e&&JSON.parse(e)}catch(M){X&&X.error("Error parsing "+d+" on "+c.nodeName.toLowerCase()+(c.id?"#"+c.id:"")+": "+M);continue}var i=new L(c,o);Y&&Y.data(c,J,i)}}),Y&&Y.bridget&&Y.bridget(J,L),L},I.Item=H,I}var T=a.document,X=a.console,Y=a.jQuery,S=function(){},V=Object.prototype.toString,R="object"==typeof HTMLElement?function(A){return A instanceof HTMLElement}:function(A){return A&&"object"==typeof A&&1===A.nodeType&&"string"==typeof A.nodeName},O=Array.prototype.indexOf?function(B,A){return B.indexOf(A)}:function(A,C){for(var B=0,D=A.length;D>B;B++){if(A[B]===C){return B}}return -1};"function"==typeof define&&define.amd?define(["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],U):a.Outlayer=U(a.eventie,a.docReady,a.EventEmitter,a.getSize,a.matchesSelector,a.Outlayer.Item)}(window),function(E){function D(A,B){var C=A.create("masonry");return C.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var H=this.cols;for(this.colYs=[];H--;){this.colYs.push(0)}this.maxY=0},C.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var I=this.items[0],J=I&&I.element;this.columnWidth=J&&B(J).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},C.prototype.getContainerWidth=function(){var I=this.options.isFitWidth?this.element.parentNode:this.element,J=B(I);this.containerWidth=J&&J.innerWidth},C.prototype._getItemLayoutPosition=function(R){R.getSize();var Y=R.size.outerWidth%this.columnWidth,U=Y&&1>Y?"round":"ceil",V=Math[U](R.size.outerWidth/this.columnWidth);V=Math.min(V,this.cols);for(var b=this._getColGroup(V),S=Math.min.apply(Math,b),a=F(b,S),W={x:this.columnWidth*a,y:S},X=S+R.size.outerHeight,Z=this.cols+1-b.length,T=0;Z>T;T++){this.colYs[a+T]=X}return W},C.prototype._getColGroup=function(L){if(2>L){return this.colYs}for(var M=[],N=this.cols+1-L,P=0;N>P;P++){var O=this.colYs.slice(P,P+L);M[P]=Math.max.apply(Math,O)}return M},C.prototype._manageStamp=function(R){var U=B(R),V=this._getElementOffset(R),S=this.options.isOriginLeft?V.left:V.right,W=S+U.outerWidth,Q=Math.floor(S/this.columnWidth);Q=Math.max(0,Q);var T=Math.floor(W/this.columnWidth);T-=W%this.columnWidth?0:1,T=Math.min(this.cols-1,T);for(var X=(this.options.isOriginTop?V.top:V.bottom)+U.outerHeight,P=Q;T>=P;P++){this.colYs[P]=Math.max(X,this.colYs[P])}},C.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var H={height:this.maxY};return this.options.isFitWidth&&(H.width=this._getContainerFitWidth()),H},C.prototype._getContainerFitWidth=function(){for(var I=0,J=this.cols;--J&&0===this.colYs[J];){I++}return(this.cols-I)*this.columnWidth-this.gutter},C.prototype.needsResizeLayout=function(){var H=this.containerWidth;return this.getContainerWidth(),H!==this.containerWidth},C}var F=Array.prototype.indexOf?function(B,A){return B.indexOf(A)}:function(B,I){for(var C=0,A=B.length;A>C;C++){var J=B[C];if(J===I){return C}}return -1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],D):E.Masonry=D(E.Outlayer,E.getSize)}(window),function(Q){function M(A,B){A[L]=B}var O=Q.MD={};O.pages={};var P;docReady(function(){P=document.querySelector("#notification");var A=document.body.getAttribute("data-page");A&&"function"==typeof O[A]&&O[A]()}),O.getSomeItemElements=function(){for(var E=document.createDocumentFragment(),D=[],B=0;3>B;B++){var C=document.createElement("div"),F=Math.random(),H=F>0.85?"w4":F>0.7?"w2":"",A=Math.random(),G=A>0.85?"h4":A>0.7?"h2":"";C.className="item "+H+" "+G,E.appendChild(C),D.push(C)}};var J,N=document.documentElement,L=void 0!==N.textContent?"textContent":"innerText",K=getStyleProperty("transition"),R=K?1000:1500;O.notify=function(A,B){M(P,A),K&&(P.style[K]="none"),P.style.display="block",P.style.opacity="1",B&&(J&&clearTimeout(J),J=setTimeout(O.hideNotify,R))},O.hideNotify=function(){K?(P.style[K]="opacity 1.0s",P.style.opacity="0"):P.style.display="none"}}(window),function(E){function F(){var B=new Date(),A=B.getMinutes();A=10>A?"0"+A:A;var C=B.getSeconds();return C=10>C?"0"+C:C,[B.getHours(),A,C].join(":")}function H(A){G.notify(A+" at "+F(),!0)}var G=E.MD;G.events=function(){!function(){var A=document.querySelector("#layout-complete-demo .masonry"),B=new Masonry(A,{columnWidth:60});B.on("layoutComplete",function(C,D){H("Masonry layout completed on "+D.length+" items")}),eventie.bind(A,"click",function(C){classie.has(C.target,"item")&&(classie.toggle(C.target,"gigante"),B.layout())})}(),function(){var A=document.querySelector("#remove-complete-demo .masonry"),B=new Masonry(A,{columnWidth:60});B.on("removeComplete",function(C,D){H("Removed "+D.length+" items")}),eventie.bind(A,"click",function(C){classie.has(C.target,"item")&&B.remove(C.target)})}()}}(window),function(E){var F=E.MD,H=getStyleProperty("transition"),G={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[H];F.faq=function(){!function(){var A=document.querySelector("#animate-item-size .masonry"),B=new Masonry(A,{columnWidth:60});eventie.bind(A,"click",function(J){var D=J.target;if(classie.has(D,"item-content")){var C=D.parentNode;classie.toggleClass(C,"is-expanded"),B.layout()}})}(),function(){var A=document.querySelector("#animate-item-size-responsive .masonry"),B=new Masonry(A,{columnWidth:".grid-sizer",itemSelector:".item"});eventie.bind(A,"click",function(C){var R=C.target;if(classie.has(R,"item-content")){var D=getSize(R);R.style[H]="none",R.style.width=D.width+"px",R.style.height=D.height+"px";var N=R.parentNode;classie.toggleClass(N,"is-expanded");var Q=R.offsetWidth;if(R.style[H]="",H){var P=function(){R.style.width="",R.style.height="",R.removeEventListener(G,P,!1)};R.addEventListener(G,P,!1)}var O=getSize(N);R.style.width=O.width+"px",R.style.height=O.height+"px",Q=null,B.layout()}})}()}}(window),function(O){function K(){for(var E=[],A=document.createDocumentFragment(),F=I,D=0,C=F.length;C>D;D++){var B=P(F[D]);E.push(B),A.appendChild(B)}imagesLoaded(A).on("progress",function(R,H){var G=H.img.parentNode.parentNode;M.appendChild(G),N.appended(G)})}function P(D){var E=document.createElement("div");E.className="hero-item has-example is-hidden";var B=document.createElement("a");B.href=D.url;var A=document.createElement("img");A.src=D.image;var C=document.createElement("p");return C.className="example-title",C.textContent=D.title,B.appendChild(A),B.appendChild(C),E.appendChild(B),E}var M,N,L,J=O.MD;J.index=function(){!function(){var A=document.querySelector("#hero");M=A.querySelector(".hero-masonry"),N=new Masonry(M,{itemSelector:".hero-item",columnWidth:".grid-sizer"}),K()}(),L=document.querySelector("#load-more-examples")};var I=[{title:"Erik Johansson",url:"http://erikjohanssonphoto.com/work/imagecats/personal/",image:"http://i.imgur.com/6Lo8oun.jpg"},{title:"Tumblr Staff: Archive",url:"http://staff.tumblr.com/archive",image:"http://i.imgur.com/igjvRa3.jpg"},{title:"Halcyon theme",url:"http://halcyon-theme.tumblr.com/",image:"http://i.imgur.com/A1RSOhg.jpg"},{title:"RESIZE.THATSH.IT",url:"http://resize.thatsh.it/",image:"http://i.imgur.com/00xWxLG.png"},{title:"Vox Media",url:"http://www.voxmedia.com",image:"http://i.imgur.com/xSiTFij.jpg"},{title:"Kristian Hammerstad",url:"http://www.kristianhammerstad.com/",image:"http://i.imgur.com/Zwd7Sch.jpg"},{title:"Loading Effects for Grid Items | Demo 2",url:"http://tympanus.net/Development/GridLoadingEffects/index2.html",image:"http://i.imgur.com/iFBSB1t.jpg"}]}(window),function(E){function D(){var B=document.createElement("div"),I=Math.random(),C=Math.random(),A=I>0.92?"w4":I>0.8?"w3":I>0.6?"w2":"",J=C>0.85?"h4":C>0.6?"h3":C>0.35?"h2":"";return B.className="item "+A+" "+J,B}var F=E.MD;F.methods=function(){!function(){var B=document.querySelector("#appended-demo"),C=B.querySelector(".masonry"),H=B.querySelector("button"),A=new Masonry(C,{columnWidth:60});eventie.bind(H,"click",function(){for(var G=[],M=document.createDocumentFragment(),L=0;3>L;L++){var N=D();M.appendChild(N),G.push(N)}C.appendChild(M),A.appended(G)})}(),function(){var B=document.querySelector("#destroy-demo"),I=B.querySelector(".masonry"),C=B.querySelector("button"),A=new Masonry(I,{columnWidth:60}),J=!0;eventie.bind(C,"click",function(){J?A.destroy():A=new Masonry(I),J=!J})}(),function(){var B=document.querySelector("#layout-demo .masonry"),A=new Masonry(B,{columnWidth:60});eventie.bind(B,"click",function(C){classie.has(C.target,"item")&&(classie.toggle(C.target,"gigante"),A.layout())})}(),function(){var B=document.querySelector("#prepended-demo"),C=B.querySelector(".masonry"),H=B.querySelector("button"),A=new Masonry(C,{columnWidth:60});eventie.bind(H,"click",function(){for(var G=[],M=document.createDocumentFragment(),L=0;3>L;L++){var N=D();M.appendChild(N),G.push(N)}C.insertBefore(M,C.firstChild),A.prepended(G)})}(),function(){var B=document.querySelector("#stamp-demo"),I=B.querySelector(".stamp"),C=B.querySelector("button"),A=new Masonry(B.querySelector(".masonry"),{columnWidth:60,itemSelector:".item"}),J=!1;eventie.bind(C,"click",function(){J?A.unstamp(I):A.stamp(I),A.layout(),J=!J})}(),function(){var B=document.querySelector("#remove-demo .masonry"),A=new Masonry(B,{columnWidth:60});eventie.bind(B,"click",function(C){classie.has(C.target,"item")&&(A.remove(C.target),A.layout())})}()}}(window);