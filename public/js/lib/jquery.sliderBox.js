(function(B){B.fn.slideBox=function(d){var Y={direction:"left",duration:0.6,easing:"swing",delay:3,startIndex:0,hideClickBar:true,clickBarRadius:5,hideBottomBar:false,width:null,height:null,hideIndexBar:false};var W=B.extend(Y,d||{});var S=B(this),V=S.children("ul.items"),U=V.find("li"),A=U.first().find("img");var b=U.size(),T=0,c=0;var R="ASC";var Q=function(){if(!S.size()){return false}T=W.height?W.height:U.first().height();c=W.width?W.width:U.first().width();S.css({width:c+"px",height:T+"px"});U.css({width:c+"px",height:T+"px",overflow:"hidden"});if(W.direction=="left"){V.css("width",b*c+"px")}else{V.css("height",b*T+"px")}V.find("li:eq("+W.startIndex+")").addClass("active");if(!W.hideBottomBar){var D=B('<div class="tips"></div>').css("opacity",0.8).appendTo(S);var C=B('<div class="title"></div>').html(function(){var H=V.find("li.active").find("a"),F=H.attr("title"),G=H.attr("href");return B("<a>").attr("href",G).text(F)}).appendTo(D);var E=B('<div class="nums"></div>').hide().appendTo(D);if(!W.hideIndexBar){U.each(function(K,H){var J=B(H).find("a"),I=J.attr("title"),G=J.attr("href"),F="";K==W.startIndex&&(F="active");B("<a>").attr("href",G).text(I).addClass(F).css("borderRadius",W.clickBarRadius+"px").mouseover(function(){B(this).addClass("active").siblings().removeClass("active");V.find("li:eq("+B(this).index()+")").addClass("active").siblings().removeClass("active");a();X()}).appendTo(E)})}if(!W.hideIndexBar&&W.hideClickBar){D.hover(function(){E.animate({top:"0px"},"fast")},function(){E.animate({top:D.height()+"px"},"fast")});E.show().delay(2000).animate({top:D.height()+"px"},"fast")}else{E.show()}}U.size()>1&&a()};var a=function(){var D=V.find("li.active"),C=D.find("a");var G=D.index();var E,F;if(W.direction=="left"){E=G*c*-1;F={"left":E+"px"}}else{E=G*T*-1;F={"top":E+"px"}}S.find(".nums").find("a:eq("+G+")").addClass("active").siblings().removeClass("active");S.find(".title").find("a").attr("href",C.attr("href")).text(C.attr("title"));V.stop().animate(F,W.duration*1000,W.easing,function(){D.removeClass("active");if(R=="ASC"){if(D.next().size()){D.next().addClass("active")}else{R="DESC";D.prev().addClass("active")}}else{if(R=="DESC"){if(D.prev().size()){D.prev().addClass("active")}else{R="ASC";D.next().addClass("active")}}}});S.data("timeid",window.setTimeout(a,W.delay*1000))};var X=function(){window.clearTimeout(S.data("timeid"))};S.hover(function(){X()},function(){window.setTimeout(a,W.delay*1000)});var Z=new Image();Z.onload=function(){Z.onload=null;Q()};Z.src=A.attr("src")}})(jQuery);